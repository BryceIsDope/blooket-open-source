(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"+IIa":function(e,t,n){"use strict";var a=n("mXGw"),o=n.n(a),r=n("cnbf"),s=n("/m4v"),i=n("W0B4"),c=n.n(i),l=n("FbNb"),u=n("aEK/"),p=n("8Jek"),m=n.n(p),f=n("4Ebc"),h=n("hPpN");function d(e,t,n){return{type:h.b,match:e,win:t,safe:n}}function y(e){return{type:h.a,defeated:e}}var _=n("dLXD"),b=n("iyvi"),g=n("oi/j"),v=n("z6Is"),w=n("h+bS"),x=n.n(w),C=n("9xwJ"),E=n.n(C),k=n("uEAT"),O=n("dLlt");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,o=!1,r=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(o)throw r}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function T(e,t,n,a,o,r,s){try{var i=e[r](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,o)}function I(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(c,e);var t,n,a,r,s,i=N(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={correctAnswers:"",isCorrect:!1,ready:!1},t.dbRef={},t}return t=c,(n=[{key:"componentDidMount",value:(r=regeneratorRuntime.mark((function e(){var t,n,a,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.client&&this.props.client.question&&this.props.client.question.correctAnswers){e.next=2;break}return e.abrupt("return");case 2:return Object(O.c)(),this.readyTimeout=setTimeout((function(){o.props.client&&o.props.client.question&&o.props.client.question.correctAnswers&&o.setState({correctAnswers:o.props.client.question.correctAnswers,isCorrect:o.props.client.question.correctAnswers.includes(o.props.client.answer),ready:!0})}),1e3),t=function(){o.transitionTimeout=setTimeout((function(){o.props.history.push("/play/battle-royale/match/result")}),300)},n=this.props.client.team,a=n?this.props.client.team.name:this.props.client.name,e.next=9,this.props.firebase.getDatabaseRef(this.props.client.hostId,"stg");case 9:this.dbRef=e.sent,this.dbRef.on("value",(function(e){if(e.val()){if("prv"===e.val())o.props.firebase.getDatabaseVal(o.props.client.hostId,"c/".concat(a),(function(e){e&&e.op?o.props.firebase.getDatabaseVal(o.props.client.hostId,"c/".concat(e.op),(function(t){t?(o.props.prepareMatch(e.e,[{name:a,energy:e.e,blook:n?o.props.client.team.blook:o.props.client.blook,players:e.p},{name:e.op,energy:t.e,blook:t.b,players:t.p,clone:t.op!==a}]),o.props.history.push("/play/battle-royale/match/preview")):(o.props.prepareMatch(e.e,null),o.props.history.push("/play/battle-royale/match/preview"))})):(o.props.prepareMatch(0,null),o.props.history.push("/play/battle-royale/match/preview"))}));else if(2===e.val().split("-").length&&"pmat"===e.val().split("-")[0]){var r=o.props.client.question.correctAnswers.map((function(e){return o.props.client.question.answers.indexOf(e)}));if(o.props.client.energy)if(o.props.client.team){if(!(o.props.client.match&&o.props.client.match[0]&&o.props.client.question&&o.props.client.question.timeLimit))return;o.props.firebase.getDatabaseVal(o.props.client.hostId,"c/".concat(o.props.client.match[0].blook),(function(n){if(o.props.client.match&&o.props.client.match[0]&&o.props.client.question&&o.props.client.question.timeLimit){var a=n||1e3*o.props.client.question.timeLimit,r=a!==1e3*o.props.client.question.timeLimit;o.props.firebase.getDatabaseVal(o.props.client.hostId,"c/".concat(o.props.client.match[1].blook),(function(n){if(o.props.client.match&&o.props.client.match[0]&&o.props.client.question&&o.props.client.question.timeLimit){var s=n||1e3*o.props.client.question.timeLimit,i=s!==1e3*o.props.client.question.timeLimit,c=Boolean(parseInt(e.val().split("-")[1],10)),l=r&&!i||r&&a<s,u=[{name:o.props.client.match[0].name,energy:o.props.client.match[0].energy,blook:o.props.client.match[0].blook,players:o.props.client.match[0].players,correct:r,time:a},{name:o.props.client.match[1].name,energy:o.props.client.match[1].energy,blook:o.props.client.match[1].blook,players:o.props.client.match[1].players,correct:i,time:s,clone:o.props.client.match[1].clone}];o.props.setMatchResult(u,l,c),t()}}))}}))}else{if(!o.props.client.match||!o.props.client.match[1])return;o.props.firebase.getDatabaseVal(o.props.client.hostId,"a/".concat(o.props.client.match[1].name),(function(n){if(o.props.client.match&&o.props.client.match[0]&&o.props.client.question&&o.props.client.question.timeLimit){var a=n||{},s=a.t||1e3*o.props.client.question.timeLimit,i=o.props.client.question.correctAnswers.includes(o.props.client.answer),c=r.includes(a.a),l=o.props.client.times[o.props.client.times.length-1],u=Boolean(parseInt(e.val().split("-")[1],10)),p=i&&!c||i&&l<s,m=[{name:o.props.client.name,energy:o.props.client.energy,blook:o.props.client.blook,correct:i,time:l},{name:o.props.client.match[1].name,energy:o.props.client.match[1].energy,blook:o.props.client.match[1].blook,correct:c,time:s,clone:o.props.client.match[1].clone}];o.props.setMatchResult(m,p,u),t()}}))}else if(o.props.client.question.correctAnswers.includes(o.props.client.answer)){var s=0;o.props.firebase.getDatabaseVal(o.props.client.hostId,"a",(function(e){var n=o.props.client.times&&o.props.client.times[0]?o.props.client.times[o.props.client.times.length-1]:o.props.client.question?1e3*o.props.client.question.timeLimit:1e5,a=e||{};Object.entries(a).forEach((function(e){var t=j(e,2),a=t[0],i=t[1];a!==o.props.client.name&&(i.t>n||!r.includes(i.a))&&(s+=1)})),o.props.setDefeated(s),t()}))}else o.props.setDefeated(0),t()}}else o.props.deleteClient(),o.props.history.push("/play")}));case 11:case"end":return e.stop()}}),e,this)})),s=function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function s(e){T(o,n,a,s,i,"next",e)}function i(e){T(o,n,a,s,i,"throw",e)}s(void 0)}))},function(){return s.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){Object.keys(this.dbRef).length&&this.dbRef.off("value"),Object(O.t)(),clearTimeout(this.timeout),clearTimeout(this.transitionTimeout)}},{key:"render",value:function(){return this.props.client&&this.props.client.question&&this.props.client.question.correctAnswers?o.a.createElement("div",{className:f.isMobile?E.a.mBody:E.a.body,style:{backgroundColor:this.state.transition?"#f7f7f7":"#fff",overflow:"hidden"}},o.a.createElement(v.a,{title:"Play Royale | Blooket",desc:"Join a game of Blooket to answer questions and compete in a fierce clash to determine who is the best and what Blook will come out victorious."}),o.a.createElement(g.a,{name:this.props.client.name,energy:this.props.client.energy}),this.state.ready?o.a.createElement("div",{className:m()(E.a.regularBody,x.a.background),style:{backgroundColor:this.state.isCorrect?"#4bc22e":"#c43a35"}},o.a.createElement("div",{className:x.a.header},this.state.isCorrect?"CORRECT":"INCORRECT"),o.a.createElement("div",{className:x.a.container},o.a.createElement("i",{className:this.state.isCorrect?"fas fa-check":"fas fa-times"})),this.state.isCorrect?null:o.a.createElement("div",{className:x.a.correctAnswers},"Correct ".concat(1===this.state.correctAnswers.length?"Answer:":"Answers:"),o.a.createElement("br",null),Object(O.e)(this.state.correctAnswers))):null):o.a.createElement(u.a,{to:"/play"})}}])&&I(t.prototype,n),a&&I(t,a),c}(o.a.Component);B.propTypes={client:c.a.shape({name:c.a.string,hostId:c.a.string,points:c.a.number,score:c.a.number,answer:c.a.string,blook:c.a.string,totalPoints:c.a.number,corrects:c.a.object,incorrects:c.a.object,energy:c.a.number,question:c.a.object,times:c.a.array,safe:c.a.bool,team:c.a.object,match:c.a.array}),history:c.a.object.isRequired,deleteClient:c.a.func.isRequired,firebase:c.a.object,setMatchResult:c.a.func.isRequired,setDefeated:c.a.func.isRequired,prepareMatch:c.a.func.isRequired};t.a=Object(l.a)(Object(s.b)((function(e){return{client:e.clients.client}}),(function(e){return Object(r.b)({deleteClient:b.a,setMatchResult:d,setDefeated:y,prepareMatch:_.a},e)}))(Object(k.d)(B)))},"1ygQ":function(e,t,n){"use strict";var a=n("mXGw"),o=n.n(a),r=n("cnbf"),s=n("/m4v"),i=n("W0B4"),c=n.n(i),l=n("aEK/"),u=n("FbNb"),p=n("BVxp"),m=n("czhI"),f=n.n(m),h=n("bIpl"),d=n("Bnqp"),y=n("5Ol3"),_=n("9xwJ"),b=n.n(_),g=n("364D"),v=n.n(g),w=n("z6Is"),x=n("Dfuw"),C=n("//dw"),E=n("uEAT");function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(s,e);var t,n,a,r=j(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=r.call(this,e)).state={timer:8,muted:!!e.host&&e.host.muted},t.ok=!1,t.changeMuted=t.changeMuted.bind(T(t)),t}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this;if(this.props.host&&this.props.host.round&&this.props.host.matches){p.animateScroll.scrollToBottom({duration:3e3,delay:2e3,smooth:"linear",containerId:"matches"});var t=8;this.timerInterval=setInterval((function(){t-=1,e.setState({timer:t}),t<=0&&(clearInterval(e.timerInterval),f.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,e.props.firebase.setStage({id:e.props.host.id,clearAnswers:!0,stage:e.props.host.questionString},(function(){e.ok=!0,e.props.history.push("/host/battle-royale/question")})))}),1e3)}}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerInterval),!this.ok&&this.props.host&&this.props.host.id&&(this.props.firebase.removeHost(this.props.host.id),this.props.deleteHost())}},{key:"changeMuted",value:function(){var e=this;this.setState({muted:!this.state.muted},(function(){e.props.setMuted(e.state.muted)}))}},{key:"render",value:function(){return this.props.host&&this.props.host.round&&this.props.host.matches?o.a.createElement("div",{className:b.a.body,style:{backgroundColor:1===this.props.host.matches.length?"#f7f7f7":"#0bc2cf",overflow:"hidden"}},o.a.createElement(w.a,{title:"Host Blooket",desc:"Host a game of Blooket with any question set. Then, have players join and answer questions to compete in an action-packed activity."}),o.a.createElement(y.a,{left:"Round ".concat(this.props.host.round),right:"".concat(this.props.host.players.length," ").concat("Teams"===this.props.host.settings.mode?"Teams":"Players"," Remain"),muted:this.state.muted,changeMuted:this.changeMuted}),1!==this.props.host.matches.length?o.a.createElement("div",{className:b.a.hostRegularBody},o.a.createElement("div",{className:b.a.royaleHeaderContainer},o.a.createElement("div",{className:b.a.royaleHeaderText},"Starting In ".concat(this.state.timer))),o.a.createElement(p.Element,{className:v.a.matchArray,id:"matches"},this.props.host.matches.map((function(e){return o.a.createElement(x.a,{match:e,key:e[0].name})})))):o.a.createElement("div",{className:b.a.hostRegularBody},o.a.createElement(C.a,{name:this.props.host.matches[0][0].name,match:this.props.host.matches[0],maxEnergy:this.props.host.settings.energy,team:"Teams"===this.props.host.settings.mode,timer:this.state.timer}))):o.a.createElement(l.a,{to:"/dashboard"})}}])&&O(t.prototype,n),a&&O(t,a),s}(o.a.Component);q.propTypes={host:c.a.shape({hostName:c.a.string,id:c.a.any,question:c.a.object,questions:c.a.array,questionString:c.a.string,settings:c.a.object,players:c.a.array,round:c.a.number,usedQuestions:c.a.array,matches:c.a.array,muted:c.a.bool}),firebase:c.a.object,history:c.a.object,deleteHost:c.a.func.isRequired,setMuted:c.a.func.isRequired};t.a=Object(u.a)(Object(s.b)((function(e){return{host:e.hosts.host}}),(function(e){return Object(r.b)({deleteHost:d.c,setMuted:h.a},e)}))(Object(E.d)(q)))},"2+m4":function(e,t,n){(t=e.exports=n("Ai0b")(!1)).push([e.i,".styles__eliminatedContainer___3UoYD-camelCase{display:flex;flex-direction:column;align-content:center;justify-content:center;text-align:center;position:absolute;top:50%;left:10%;width:80%;transform:translateY(-50%);color:#3a3a3a;opacity:0;-webkit-animation:styles__fadeIn___1D2eX-camelCase .1s linear .5s forwards;animation:styles__fadeIn___1D2eX-camelCase .1s linear .5s forwards}@-webkit-keyframes styles__fadeIn___1D2eX-camelCase{0%{opacity:0}to{opacity:1}}@keyframes styles__fadeIn___1D2eX-camelCase{0%{opacity:0}to{opacity:1}}.styles__eliminatedHeader___3bZ14-camelCase{font-size:50px;font-family:Titan One,sans-serif;margin-bottom:20px}.styles__eliminatedText___3EuDW-camelCase{font-size:26px;font-family:Nunito,sans-serif}",""]),t.locals={eliminatedContainer:"styles__eliminatedContainer___3UoYD-camelCase",fadeIn:"styles__fadeIn___1D2eX-camelCase",eliminatedHeader:"styles__eliminatedHeader___3bZ14-camelCase",eliminatedText:"styles__eliminatedText___3EuDW-camelCase"}},"2zEv":function(e,t,n){(t=e.exports=n("Ai0b")(!1)).push([e.i,".styles__matchArray___24tBW-camelCase{overflow:hidden;width:92vw;height:calc(75vh - 65px);margin:3vh auto 0;display:flex;flex-direction:column;align-content:flex-start;opacity:0;-webkit-animation:styles__fadeIn___1zmi_-camelCase .3s linear .75s forwards;animation:styles__fadeIn___1zmi_-camelCase .3s linear .75s forwards}@-webkit-keyframes styles__fadeIn___1zmi_-camelCase{0%{opacity:0}to{opacity:1}}@keyframes styles__fadeIn___1zmi_-camelCase{0%{opacity:0}to{opacity:1}}.styles__invisible___1UsTJ-camelCase{opacity:0;transition:opacity .5s linear}",""]),t.locals={matchArray:"styles__matchArray___24tBW-camelCase",fadeIn:"styles__fadeIn___1zmi_-camelCase",invisible:"styles__invisible___1UsTJ-camelCase"}},"364D":function(e,t,n){var a=n("sJlf");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("UezQ")(a,o);a.locals&&(e.exports=a.locals)},"3FZc":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var a=n("pp8X");function o(e,t,n,o,r,s){return{type:a.a,round:e,usedQuestions:t,questionsPlayed:n,questionString:o,question:r,matches:s}}function r(e){return{type:a.b,standings:e}}},"5/CP":function(e,t,n){"use strict";var a=n("mXGw"),o=n.n(a),r=n("cnbf"),s=n("/m4v"),i=n("W0B4"),c=n.n(i),l=n("U8a7"),u=n("thVU"),p=n("FbNb"),m=n("czhI"),f=n.n(m),h=n("8Jek"),d=n.n(h),y=n("6gd3"),_=n("WmAR"),b=n.n(_),g=n("TiKg"),v=n.n(g),w=n("4Ebc"),x=n("0dWD"),C=n("9xwJ"),E=n.n(C),k=n("qgLw"),O=n.n(k),S=n("EqBC"),j=n("z6Is"),R=n("KS4/"),T=n("1uEQ"),I=n("iE/P"),q=n("dLlt");function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function D(e,t,n,a,o,r,s){try{var i=e[r](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,o)}function z(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var r=e.apply(t,n);function s(e){D(r,a,o,s,i,"next",e)}function i(e){D(r,a,o,s,i,"throw",e)}s(void 0)}))}}function M(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=F(e);if(t){var o=F(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return Y(this,n)}}function Y(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?L(e):t}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=function(e,t){return e.number-t.number},V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(i,e);var t,n,a,r,s=W(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=s.call(this,e)).state={game:{title:"",author:"",desc:"",id:t.props.match.params.id||"",private:!1,questions:[],coverImage:{}},date:"",playCount:0,favoriteCount:0,isVerified:!1,favorited:!1,name:"",showingAnswers:[],hidingAnswers:[],reporting:!1,loadingReport:!1,report:"",copying:!1,canCopy:!1,loadingCopy:!1,ready:!1,deletePop:!1,loadingDelete:!1,zoomedImage:""},t.onShowAnswers=t.onShowAnswers.bind(L(t)),t.onHost=t.onHost.bind(L(t)),t.onSolo=t.onSolo.bind(L(t)),t.onFavorite=t.onFavorite.bind(L(t)),t.onReport=t.onReport.bind(L(t)),t.onCopy=t.onCopy.bind(L(t)),t.onCopyConfirm=t.onCopyConfirm.bind(L(t)),t.onDelete=t.onDelete.bind(L(t)),t.stripeId="",t.loading=!1,t.here=!0,t}return t=i,(n=[{key:"componentDidMount",value:(r=z(regeneratorRuntime.mark((function e(){var t,n,a,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(){return(o=z(regeneratorRuntime.mark((function e(a,o){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[f.a.get("/api/games",{params:{gameId:t}}).then((function(e){var r=P(e.data.questions);r.sort(U),n.here&&n.setState({game:{title:e.data.title,author:e.data.author,desc:e.data.desc,id:t,questions:r,private:e.data.private,coverImage:e.data.coverImage},date:v()(e.data.date).fromNow(),playCount:e.data.playCount,favoriteCount:e.data.favoriteCount,isVerified:e.data.verified,name:a,email:o,ready:!0})})).catch((function(e){console.error(e)})),f.a.get("/api/users/favorited",{params:{name:a,id:t}}).then((function(e){n.here&&n.setState({favorited:e.data})})).catch((function(e){console.error(e)}))],e.next=3,Promise.all(r);case 3:if(n.here){e.next=5;break}return e.abrupt("return");case 5:n.setState({ready:!0});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},a=function(e,t){return o.apply(this,arguments)},this.intervals=[],t=this.props.match.params.id,n=this,f.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,e.next=8,this.props.user.getData();case 8:(r=e.sent)?(this.setState({name:r.name}),this.stripeId=r.stripe,a(r.name,r.email)):this.props.history.push("/login");case 10:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"onComponentWillUnmount",value:function(){this.here=!1,this.intervals&&this.intervals.forEach((function(e){return clearInterval(e)}))}},{key:"onShowAnswers",value:function(e){var t=this,n=P(this.state.showingAnswers),a=P(this.state.hidingAnswers),o=n.indexOf(e);-1===o?n.push(e):(a.push(e),n.splice(o,1),this.intervals.push(setTimeout((function(){var n=(a=P(t.state.hidingAnswers)).indexOf(e);a.splice(n,1),t.setState({hidingAnswers:a})}),400))),this.setState({showingAnswers:n,hidingAnswers:a})}},{key:"onFavorite",value:function(){var e=this;this.loading||(this.loading=!0,f.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,f.a.put("/api/users/updatefavorites",{id:this.props.match.params.id,isUnfavoriting:this.state.favorited,name:this.state.name}).then((function(){e.here&&e.setState({favorited:!e.state.favorited,favoriteCount:e.state.favorited?e.state.favoriteCount-1:e.state.favoriteCount+1},(function(){e.loading=!1}))})).catch((function(t){console.error(t),e.loading=!1})))}},{key:"onHost",value:function(){this.loading||(this.loading=!0,window.open("/host?id=".concat(this.state.game.id),"_blank").focus(),window.location.reload())}},{key:"onSolo",value:function(){this.loading||(this.loading=!0,this.state.game.id&&window?(window.open("/solo?id=".concat(this.state.game.id),"_blank").focus(),window.location.reload()):this.loading=!1)}},{key:"onReport",value:function(e){var t=this;this.loading||(this.loading=!0,this.state.game.id?e&&!this.state.isVerified?(this.setState({loadingReport:!0}),f.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,f.a.post("/api/reports",{id:this.state.game.id}).then((function(){t.here&&(t.setState({reporting:!1,loadingReport:!1,report:""}),t.loading=!1)})).catch((function(e){console.error(e)}))):(this.loading=!1,this.setState({reporting:!1,loadingReport:!1})):this.loading=!1)}},{key:"onCopy",value:function(){var e=this;this.loading||(this.loading=!0,f.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,f.a.put("/api/users/plan",{name:this.state.name,stripeId:this.stripeId}).then((function(t){e.here&&("Starter"===t.data.plan?e.setState({copying:!0}):e.setState({canCopy:!0,copying:!0}),e.loading=!1)})).catch((function(t){e.here&&(console.error(t),e.loading=!1,e.setState({copying:!1}))})))}},{key:"onCopyConfirm",value:function(){var e=this;this.loading||(this.loading=!0,this.setState({loadingCopy:!0}),f.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,f.a.post("/api/games/copy",{newAuthor:this.state.name,id:this.state.game.id,isDuplicate:!0}).then((function(t){e.here&&(e.props.setEditId(t.data._id),e.props.history.push("/edit?id=".concat(t.data._id)))})).catch((function(t){e.here&&(console.error(t),e.loading=!1,e.setState({copying:!1,loadingCopy:!1}))})))}},{key:"onDelete",value:function(){var e=this;this.loading||(this.loading=!0,this.setState({loadingDelete:!0}),f.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,f.a.delete("/api/games",{params:{gameId:this.state.game.id}}).then((function(){window.close()})).catch((function(t){console.error(t),e.setState({loadingDelete:!1})})))}},{key:"render",value:function(){var e=this;return this.state.ready&&!this.state.game.title?o.a.createElement(l.a,{to:"/404"}):o.a.createElement("div",{className:w.isMobile?E.a.mBody:E.a.body},o.a.createElement(j.a,{title:"View Set | Blooket",desc:"View a Blooket question set to see the questions and their answers. Also, you can host, favorite, report, or duplicate a set here."}),o.a.createElement(S.a,{history:this.props.history,page:"Discover"}),o.a.createElement("div",{className:E.a.profileRegularBody},this.state.ready?o.a.createElement("div",{className:O.a.mainColumn},o.a.createElement("div",{className:O.a.headerContainer},this.state.game.coverImage?o.a.createElement("div",{className:O.a.headerImageContainer},o.a.createElement(b.a,{height:195},o.a.createElement("img",{src:Object(q.f)(this.state.game.coverImage.url),alt:"Cover",className:O.a.headerImage}))):o.a.createElement("div",{className:O.a.headerFillerContainer},o.a.createElement("div",{className:O.a.headerFillerText},"Blooket")),o.a.createElement("div",{className:O.a.headerTextContainer},o.a.createElement("div",{className:O.a.headerTitle},this.state.game.title),o.a.createElement("div",{className:O.a.headerDesc},this.state.game.desc),o.a.createElement("div",{className:O.a.headerBottomContainer},o.a.createElement("i",{className:d()(O.a.headerAuthorIcon,"fas fa-user")}),o.a.createElement(u.a,{className:O.a.headerAuthorText,to:"/discover?n=".concat(encodeURIComponent(this.state.game.author))},this.state.game.author),["Bot","Tom@Blooket","Spencer@Blooket"].includes(this.state.name)?o.a.createElement("div",{className:O.a.deleteButton,role:"button",tabIndex:0,onClick:function(){return e.setState({deletePop:!0})}},"Delete"):null)),o.a.createElement("div",{className:O.a.headerButtonContainer},o.a.createElement("div",{className:d()(O.a.hostButtonContainer,O.a.bigScreen)},o.a.createElement("div",{className:O.a.hostButton,role:"button",tabIndex:0,onClick:this.onHost},o.a.createElement("i",{className:d()(O.a.hostIcon,"fas fa-play")}),o.a.createElement("div",{className:O.a.hostText},"Host"))),o.a.createElement("div",{className:d()(O.a.hostButtonContainer,O.a.smallScreen)},o.a.createElement("div",{className:O.a.noHostText},"No Hosting on Mobile")),o.a.createElement("div",{className:O.a.hostButtonContainer},o.a.createElement("div",{className:O.a.hostButton,role:"button",tabIndex:0,onClick:this.onSolo},o.a.createElement("i",{className:d()(O.a.hostIcon,"fas fa-user-astronaut")}),o.a.createElement("div",{className:O.a.hostText},"Solo"))),o.a.createElement(y.a,{place:"bottom",effect:"solid",className:O.a.tooltip}),o.a.createElement("div",{className:O.a.smallButtonsContainer},o.a.createElement("i",{"data-tip":this.state.favorited?"Unfavorite":"Favorite",className:d()(this.state.favorited?O.a.headerStarIconYes:O.a.headerStarIconNo,this.state.favorited?"fas fa-star":"far fa-star"),role:"button",tabIndex:0,onClick:this.onFavorite}),o.a.createElement("i",{"data-tip":"Report",className:d()(O.a.reportIcon,"far fa-flag"),role:"button",tabIndex:0,onClick:function(){return e.setState({reporting:!0})}}),o.a.createElement("i",{"data-tip":"Duplicate",className:d()(O.a.copyIcon,"far fa-clone"),role:"button",tabIndex:0,onClick:this.onCopy})))),o.a.createElement("div",{className:O.a.headerBelowContainer},o.a.createElement("div",{className:O.a.headerBelowSection},o.a.createElement("i",{className:d()(O.a.headerClockIcon,"far fa-clock")}),o.a.createElement("div",{className:O.a.headerTimeText},"Edited ".concat(this.state.date))),o.a.createElement("div",{className:O.a.headerBelowCenterSection},o.a.createElement("i",{className:d()(O.a.headerClockIcon,"far fa-play-circle")}),o.a.createElement("div",{className:O.a.headerTimeText},"".concat(Object(q.n)(this.state.playCount)," ").concat(1===this.state.playCount?"Play":"Plays"))),o.a.createElement("div",{className:O.a.headerBelowSection},o.a.createElement("i",{className:d()(O.a.headerClockIcon,"far fa-star")}),o.a.createElement("div",{className:O.a.headerTimeText},"".concat(Object(q.n)(this.state.favoriteCount)," ").concat(1===this.state.favoriteCount?"Favorite":"Favorites")))),this.state.game.questions.map((function(t){return o.a.createElement("div",{key:t.number,className:O.a.questionSection},o.a.createElement("div",{className:O.a.questionContainer},o.a.createElement("div",{className:O.a.questionImageContainer,role:"button",tabIndex:0,onClick:t.image&&t.image.url?function(){return e.setState({zoomedImage:t.image.url})}:function(){},style:{cursor:t.image&&t.image.url?"cursor":"default"}},t.image&&t.image.url?w.isMobile?o.a.createElement("img",{src:Object(q.f)(t.image.url),alt:"Question Background",className:O.a.questionImage}):o.a.createElement(b.a,{height:130,width:170},o.a.createElement("img",{src:Object(q.f)(t.image.url),alt:"Question Background",className:O.a.questionImage})):null,o.a.createElement("div",{className:O.a.imageNumber},t.number)),o.a.createElement("div",{className:O.a.questionCenterContainer},o.a.createElement("div",{className:O.a.questionText},t.question),o.a.createElement("div",{className:O.a.showAnswersContainer,role:"button",tabIndex:0,onClick:function(){return e.onShowAnswers(t.number)}},o.a.createElement("div",{className:O.a.showAnswersText},e.state.showingAnswers.includes(t.number)?"Hide Answers":"Show Answers"),o.a.createElement("i",{className:d()(O.a.showAnswersIcon,e.state.showingAnswers.includes(t.number)?"fas fa-angle-up":"fas fa-angle-down")}))),o.a.createElement("div",{className:O.a.tallVerticalDivider}),o.a.createElement("div",{className:O.a.questionRightContainer},o.a.createElement("div",{className:O.a.questionRightColumn},o.a.createElement("div",{className:O.a.timeLimitText},"".concat(t.timeLimit," sec")),o.a.createElement("div",{className:O.a.randomText},"Time Limit")),o.a.createElement("div",{className:O.a.horizontalDivider}),o.a.createElement("div",{className:O.a.questionRightColumn},o.a.createElement("div",{className:O.a.questionRandomRow},o.a.createElement("i",{className:d()(O.a.randomIcon,"fas fa-random")}),o.a.createElement("i",{className:d()(O.a.randomIcon,t.random?"fas fa-check":"fas fa-times")})),o.a.createElement("div",{className:O.a.randomText},"".concat(t.random?"":"No "," Random Answer Order"))))),e.state.showingAnswers.includes(t.number)||e.state.hidingAnswers.includes(t.number)?o.a.createElement("div",{className:d()(O.a.answerContainer,A({},O.a.answerContainerOut,e.state.showingAnswers.includes(t.number)))},t.answers.map((function(e,n){return o.a.createElement("div",{className:d()(O.a.answer,A({},O.a.faded,!t.correctAnswers.includes(e))),style:{backgroundColor:["#ffa31e","#3378ff","#00cf77","#ff462b"][n]},key:e},o.a.createElement("div",{className:O.a.answerText},e))}))):null)})),o.a.createElement("div",{className:O.a.bottomSpacer})):null,this.state.zoomedImage?o.a.createElement("div",{className:d()(E.a.modal,E.a.modalButton),role:"button",tabIndex:0,onClick:function(){return e.setState({zoomedImage:""})}},o.a.createElement("img",{src:Object(q.f)(this.state.zoomedImage),alt:"Upload",className:E.a.bigImage,draggable:!1})):null),this.state.reporting?o.a.createElement("div",{className:O.a.reportModal},o.a.createElement("div",{className:O.a.reportContainer},o.a.createElement("div",{className:O.a.reportHeader},"Report Set"),o.a.createElement("div",{className:O.a.reportText},"If this set is offensive, abusive, inappropriate, misleading, and/or contains false information, please let us know below."," We appreciate your time and hope that together we can make Blooket a safe place to learn."),o.a.createElement("textarea",{className:d()(O.a.reportInput,A({},O.a.reportInputFilled,this.state.report)),onChange:function(t){e.setState({report:t.target.value})},value:this.state.report,"data-gramm_editor":"false"}),this.state.loadingReport?o.a.createElement(T.a,null):o.a.createElement("div",{className:O.a.reportButtonContainer},o.a.createElement("div",{className:O.a.reportYesButton,role:"button",tabIndex:0,onClick:function(){return e.onReport(!0)}},"Report"),o.a.createElement("div",{className:O.a.reportNoButton,role:"button",tabIndex:0,onClick:function(){return e.onReport(!1)}},"Cancel")))):null,this.state.copying?this.state.canCopy?o.a.createElement(R.a,{text:this.state.loadingCopy?"Copying...":"Do you want to create a copy of this question set?",loading:this.state.loadingCopy,buttonOne:{text:"Yes",click:this.onCopyConfirm,color:"blue"},buttonTwo:{text:"No",click:function(){e.setState({copying:!1,loadingCopy:!1,canCopy:!1}),e.loading=!1},color:"blue"}}):o.a.createElement(R.a,{text:"Get Blooket Plus to Duplicate Sets",buttonOne:{text:"Upgrade",click:function(){return e.props.history.push("/upgrade")},color:"orange"},buttonTwo:{text:"Not Now",click:function(){e.setState({copying:!1,loadingCopy:!1}),e.loading=!1},color:"blue"}}):null,this.state.deletePop?o.a.createElement(R.a,{text:"Do you really want to delete this set?",loading:this.state.loadingDelete,buttonOne:{text:"Yes",click:this.onDelete,color:"red"},buttonTwo:{text:"No",click:function(){return e.setState({deletePop:!1})},color:"blue"}}):null)}}])&&M(t.prototype,n),a&&M(t,a),i}(o.a.Component);V.propTypes={match:c.a.object,history:c.a.object.isRequired,setEditId:c.a.func.isRequired,user:c.a.object};t.a=Object(I.c)(Object(p.a)(Object(s.b)((function(){return{}}),(function(e){return Object(r.b)({setEditId:x.b},e)}))(V)))},"6zmd":function(e,t,n){var a=n("2+m4");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("UezQ")(a,o);a.locals&&(e.exports=a.locals)},"Bwu/":function(e,t,n){var a=n("YnMB");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("UezQ")(a,o);a.locals&&(e.exports=a.locals)},F4LJ:function(e,t,n){"use strict";var a=n("mXGw"),o=n.n(a),r=n("cnbf"),s=n("/m4v"),i=n("W0B4"),c=n.n(i),l=n("FbNb"),u=n("aEK/"),p=n("4Ebc"),m=n("IPJx"),f=n("iyvi"),h=n("oi/j"),d=n("z6Is"),y=n("9xwJ"),_=n.n(y),b=n("6zmd"),g=n.n(b),v=n("//dw"),w=n("uEAT"),x=n("dLlt");function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function O(e,t,n,a,o,r,s){try{var i=e[r](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,o)}function S(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(c,e);var t,n,a,r,s,i=R(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={timer:8},t.here=!0,t.dbRef={},t}return t=c,(n=[{key:"componentDidMount",value:(r=regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.client&&this.props.client.maxEnergy){e.next=2;break}return e.abrupt("return");case 2:return t=8,this.timerInterval=setInterval((function(){t-=1,n.here&&(n.setState({timer:t}),t<=0&&clearInterval(n.timerInterval))}),1e3),Object(x.c)(),e.next=7,this.props.firebase.getDatabaseRef(this.props.client.hostId,"stg");case 7:this.dbRef=e.sent,this.dbRef.on("value",(function(e){var t=e.val();if(null===t)n.props.deleteClient(),n.props.history.push("/play");else if(3===t.split("-").length){for(var a=t.split("-"),o=n.props.client.questions.map((function(e){return e.number})).indexOf(parseInt(a[1],10)),r=JSON.parse(JSON.stringify(n.props.client.questions[o])),s=E(r.answers),i=a[2].split(""),c=0;c<s.length;c++)r.answers[i[c]]=s[c];n.props.getQuestion(r),n.props.history.push("/play/battle-royale/question")}}));case 9:case"end":return e.stop()}}),e,this)})),s=function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function s(e){O(o,n,a,s,i,"next",e)}function i(e){O(o,n,a,s,i,"throw",e)}s(void 0)}))},function(){return s.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.here=!1,clearInterval(this.timerInterval),Object.keys(this.dbRef).length&&this.dbRef.off("value"),Object(x.t)()}},{key:"render",value:function(){return this.props.client&&this.props.client.maxEnergy?o.a.createElement("div",{className:p.isMobile?_.a.mBody:_.a.body,style:{overflow:"hidden"}},o.a.createElement(d.a,{title:"Play Royale | Blooket",desc:"Join a game of Blooket to answer questions and compete in a fierce clash to determine who is the best and what Blook will come out victorious."}),o.a.createElement(h.a,{name:this.props.client.name,energy:this.props.client.energy}),o.a.createElement("div",{className:_.a.regularBody,style:{overflow:"hidden"}},this.props.client.match&&this.props.client.match[0]?o.a.createElement(v.a,{name:this.props.client.team?this.props.client.team.name:this.props.client.name,match:this.props.client.match,maxEnergy:this.props.client.maxEnergy,team:Boolean(this.props.client.team),timer:this.state.timer}):o.a.createElement("div",{className:g.a.eliminatedContainer},o.a.createElement("div",{className:g.a.eliminatedHeader},"You've Been Eliminated"),o.a.createElement("div",{className:g.a.eliminatedText,style:{marginBottom:20}},"Keep answering questions to boost your stats, earn rewards, and enhance your learning!"),o.a.createElement("div",{className:g.a.eliminatedText},o.a.createElement("b",null,"Question in ".concat(this.state.timer)))))):o.a.createElement(u.a,{to:"/play"})}}])&&S(t.prototype,n),a&&S(t,a),c}(o.a.Component);q.propTypes={client:c.a.shape({name:c.a.string,hostId:c.a.string,answer:c.a.string,blook:c.a.string,energy:c.a.number,match:c.a.array,maxEnergy:c.a.number,question:c.a.object,questions:c.a.array,times:c.a.array,corrects:c.a.object,incorrects:c.a.object,safe:c.a.bool,team:c.a.object}),history:c.a.object.isRequired,deleteClient:c.a.func.isRequired,getQuestion:c.a.func.isRequired,firebase:c.a.object};t.a=Object(l.a)(Object(s.b)((function(e){return{client:e.clients.client}}),(function(e){return Object(r.b)({deleteClient:f.a,getQuestion:m.a},e)}))(Object(w.d)(q)))},F59X:function(e,t,n){var a=n("P/zL");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("UezQ")(a,o);a.locals&&(e.exports=a.locals)},FZsF:function(e,t,n){"use strict";var a=n("mXGw"),o=n.n(a),r=n("cnbf"),s=n("/m4v"),i=n("W0B4"),c=n.n(i),l=n("aEK/"),u=n("FbNb"),p=n("czhI"),m=n.n(p),f=n("xVia");function h(e,t,n,a,o,r,s){return{type:f.a,clientAnswers:e,matches:t,players:n,numClients:a,dead:o,forDead:r,safe:s}}var d=n("bIpl"),y=n("Bnqp"),_=n("5Ol3"),b=n("9xwJ"),g=n.n(b),v=n("z6Is"),w=n("D++V"),x=n("tS6y"),C=n.n(x),E=n("uEAT");function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,o=!1,r=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(o)throw r}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function I(e,t,n,a,o,r,s){try{var i=e[r](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,o)}function q(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?B(e):t}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(c,e);var t,n,a,r,s,i=A(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={numAnswers:0,numClients:0,players:0,transitioning:!1,muted:!!e.host&&e.host.muted},t.ok=!0,t.dbRef={},t.answerObj={},t.next=t.next.bind(B(t)),t.changeMuted=t.changeMuted.bind(B(t)),t}return t=c,(n=[{key:"componentDidMount",value:(r=regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.host&&this.props.host.question&&this.props.host.question.text&&this.props.host.matches){e.next=2;break}return e.abrupt("return");case 2:return this.props.firebase.getDatabaseVal(this.props.host.id,"c",(function(e){if(t.props.host&&t.props.host.settings&&t.props.host.settings.mode){var n=e||{};t.setState({numClients:"Teams"===t.props.host.settings.mode?Object.values(n).reduce((function(e,t){return e+Object.keys(t.p).length}),0):Object.keys(n).length})}})),this.setState({players:this.props.host.players.length}),e.next=6,this.props.firebase.getDatabaseRef(this.props.host.id,"a");case 6:this.dbRef=e.sent,this.dbRef.on("value",(function(e){var n=e.val()?Object.values(e.val()):[];n.length>0&&!t.state.muted&&new Audio(C.a).play(),t.answerObj=e.val()||{},t.setState({numAnswers:n.length}),n.length===t.state.numClients&&0!==t.state.numClients&&t.next()}));case 8:case"end":return e.stop()}}),e,this)})),s=function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function s(e){I(o,n,a,s,i,"next",e)}function i(e){I(o,n,a,s,i,"throw",e)}s(void 0)}))},function(){return s.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){clearTimeout(this.transitionTimeout),Object.keys(this.dbRef).length&&this.dbRef.off("value"),!this.ok&&this.props.host&&this.props.host.id&&(this.props.firebase.removeHost(this.props.host.id),this.props.deleteHost())}},{key:"next",value:function(){var e=this;this.setState({transitioning:!0},(function(){if(e.props.host&&e.props.host.matches){var t=JSON.parse(JSON.stringify(e.props.host.matches)),n=[];Object.entries(e.answerObj).forEach((function(a){var o=R(a,2),r=o[0],s=o[1],i=e.props.host.question.correctAnswers.includes(e.props.host.question.answers[s.a]);if(i&&n.push(s.t),"Teams"===e.props.host.settings.mode){for(var c=i?s.t:1e3*e.props.host.question.timeLimit,l=t.length-1;l>=0;l--)if(Object.keys(t[l][0].players).includes(r)){if(t[l][0].players[r].time=c,i&&(t[l][0].correct=!0),!t[l][0].clone)break}else if(Object.keys(t[l][1].players).includes(r)&&(t[l][1].players[r].time=c,i&&(t[l][1].correct=!0),!t[l][1].clone))break}else for(var u=t.length-1;u>=0;u--)if(t[u][0].name===r){if(t[u][0]=S(S({},t[u][0]),{},{time:s.t,correct:i}),!t[u][0].clone)break}else if(t[u][1].name===r&&(t[u][1]=S(S({},t[u][1]),{},{time:s.t,correct:i}),!t[u][1].clone))break}));var a=function(t){return t[1].time||1e3*e.props.host.question.timeLimit};if("Teams"===e.props.host.settings.mode)for(var o=0;o<t.length;o++)t[o][0].time=parseFloat((Object.entries(t[o][0].players).map(a).reduce((function(e,t){return e+t}),0)/Object.keys(t[o][0].players).length).toFixed(3)),t[o][1].time=parseFloat((Object.entries(t[o][1].players).map(a).reduce((function(e,t){return e+t}),0)/Object.keys(t[o][1].players).length).toFixed(3));for(var r=e.props.host.players.map((function(e){return S({},e)})),s=e.props.host.players.map((function(e){return e.name})),i=0;i<t.length;i++){var c=t[i];0===c[0].time?(t[i][0].time=1e3*e.props.host.question.timeLimit,-1!==s.indexOf(c[0].name)&&(r[s.indexOf(c[0].name)].energy-=1)):(!c[0].correct||c[1].correct&&!c[0].correct||c[1].correct&&c[1].time<c[0].time)&&-1!==s.indexOf(c[0].name)&&(r[s.indexOf(c[0].name)].energy-=1),c[1].clone?0===c[1].time&&(t[i][1].time=1e3*e.props.host.question.timeLimit):0===c[1].time?(t[i][1].time=1e3*e.props.host.question.timeLimit,-1!==s.indexOf(c[1].name)&&(r[s.indexOf(c[1].name)].energy-=1)):(!c[1].correct||c[0].correct&&!c[1].correct||c[0].correct&&c[0].time<c[1].time)&&-1!==s.indexOf(c[1].name)&&(r[s.indexOf(c[1].name)].energy-=1)}var l=S({},e.props.host.dead),u=!1,p=r.filter((function(e){return e.energy>0}));0===p.length?(u=!0,p=r.map((function(e){return S(S({},e),{},{energy:1})}))):l[e.props.host.round]=r.filter((function(e){return e.energy<=0}));for(var f=e.state.numClients-n.length,h=0;h<f;h++)n.push(1e3*e.props.host.question.timeLimit+1);e.transitionTimeout=setTimeout((function(){if(e.props.setRoyaleResults(Object.values(e.answerObj).map((function(e){return e.a})),t,p,e.state.numClients,l,n,u),"Teams"===e.props.host.settings.mode){var a={};t.forEach((function(e){a[e[0].blook]=e[0].time,a[e[1].blook]=e[1].time})),e.props.firebase.setVal({id:e.props.host.id,path:"c",val:a},(function(){m.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,e.props.firebase.setStage({id:e.props.host.id,stage:"bres"},(function(){e.ok=!0,e.props.history.push("/host/battle-royale/question/results")}))}))}else m.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,e.props.firebase.setStage({id:e.props.host.id,stage:"bres"},(function(){e.ok=!0,e.props.history.push("/host/battle-royale/question/results")}))}),300)}}))}},{key:"changeMuted",value:function(){var e=this;this.setState({muted:!this.state.muted},(function(){e.props.setMuted(e.state.muted)}))}},{key:"render",value:function(){return this.props.host&&this.props.host.question&&this.props.host.question.text&&this.props.host.matches?o.a.createElement("div",{className:g.a.body},o.a.createElement(v.a,{title:"Host Blooket",desc:"Host a game of Blooket with any question set. Then, have players join and answer questions to compete in an action-packed activity."}),o.a.createElement(_.a,{left:"Round ".concat(this.props.host.round),right:"".concat(this.state.players||this.props.host.players.length," ").concat("Teams"===this.props.host.settings.mode?"Teams":"Players"," Remain"),muted:this.state.muted,changeMuted:this.changeMuted}),o.a.createElement(w.a,{next:this.next,text:this.props.host.question.text,answers:this.props.host.question.answers,image:this.props.host.question.image?this.props.host.question.image.url:"",timeLimit:this.props.host.question.timeLimit,numAnswers:this.state.numAnswers,numClients:this.state.numClients,transitioning:this.state.transitioning,muted:this.state.muted})):o.a.createElement(l.a,{to:"/dashboard"})}}])&&q(t.prototype,n),a&&q(t,a),c}(o.a.Component);z.propTypes={host:c.a.shape({hostName:c.a.string,id:c.a.any,question:c.a.object,questions:c.a.array,settings:c.a.object,round:c.a.number,players:c.a.array,matches:c.a.array,dead:c.a.object,muted:c.a.bool}),firebase:c.a.object,history:c.a.object,setRoyaleResults:c.a.func.isRequired,setMuted:c.a.func.isRequired,deleteHost:c.a.func.isRequired};t.a=Object(u.a)(Object(s.b)((function(e){return{host:e.hosts.host}}),(function(e){return Object(r.b)({setRoyaleResults:h,setMuted:d.a,deleteHost:y.c},e)}))(Object(E.d)(z)))},LXOC:function(e,t,n){"use strict";var a=n("mXGw"),o=n.n(a),r=n("cnbf"),s=n("/m4v"),i=n("W0B4"),c=n.n(i),l=n("FbNb"),u=n("aEK/"),p=n("czhI"),m=n.n(p),f=n("4Ebc"),h=n("iyvi"),d=n("Z/x3"),y=n("mJRK"),_=n.n(y),b=n("9xwJ"),g=n.n(b),v=n("z6Is"),w=n("3gGk"),x=n("cGkC"),C=n("uEAT");function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?q(e):t}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=function(e){return o.a.createElement("div",{className:_.a.winsText},"".concat(e.wins," ").concat(1===e.wins?"Win":"Wins"))},P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(s,e);var t,n,a,r=T(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=r.call(this,e)).state={numCorrect:"",numQuestions:"",ready:!1,standings:[]},t.saveStats=t.saveStats.bind(q(t)),t.renderStats=t.renderStats.bind(q(t)),t.final=!1,t}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this;if(this.props.client&&this.props.client.standing&&this.props.client.standing[0]){var t=JSON.parse(JSON.stringify(this.props.client.standing));t.sort((function(e,t){return e.place-t.place}));var n=t.map((function(e){return e.name})).indexOf(this.props.client.team?this.props.client.team.name:this.props.client.name),a=0,o=0;Object.values(this.props.client.corrects).forEach((function(e){a+=e,o+=e})),Object.values(this.props.client.incorrects).forEach((function(e){o+=e})),this.props.firebase.setVal({id:this.props.client.hostId,path:"c/".concat(this.props.client.name),val:{c:O({},this.props.client.corrects),i:O({},this.props.client.incorrects)}});var r=t[n].place,s=0;this.props.client.times.forEach((function(e){s+=e})),s/=Math.max(1,this.props.client.times.length),s=(Math.round(s)/1e3).toFixed(3);var i=0;this.props.client.team?t.forEach((function(e){r<e.place&&(i+=e.numPlayers)})):i=t.length-r,this.stats={place:r,wins:t[n].wins,playersDefeated:i,correctAnswers:a,blookUsed:this.props.client.blook,nameUsed:this.props.client.name},this.props.client.username&&this.saveStats(this.props.client.username,(function(){})),this.readyTimeout=setTimeout((function(){e.setState({ready:!0,standings:t,numCorrect:a,numQuestions:o,avgTime:s,me:t[n]})}),4750)}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.readyTimeout),this.props.deleteClient()}},{key:"saveStats",value:function(e,t){m.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,m.a.put("/api/users/royalestats",{name:e,place:this.stats.place,showdownWins:this.stats.wins,playersDefeated:this.stats.playersDefeated,correctAnswers:this.stats.correctAnswers,blookUsed:this.stats.blookUsed,nameUsed:this.stats.nameUsed}).then((function(){t()})).catch((function(e){console.error(e)}))}},{key:"renderStats",value:function(){return o.a.createElement(w.a,{title:"Avg Time",stat:"".concat(this.state.avgTime,"s")})}},{key:"render",value:function(){return this.props.client&&this.props.client.standing&&this.props.client.standing[0]?o.a.createElement("div",{className:f.isMobile?g.a.mBody:g.a.body,style:{backgroundColor:"#0bc2cf"}},o.a.createElement(v.a,{title:"Play Blooket",desc:"Join a game of Blooket to answer questions and compete in a fierce clash to determine who is the best and what Blook will come out victorious."}),o.a.createElement(d.a,{leftText:this.props.client.name,rightText:"Play Again",rightLink:"/play"}),this.state.ready?o.a.createElement(x.a,{standings:this.state.standings,name:this.props.client.team?this.props.client.team.name:this.props.client.name,numCorrect:this.state.numCorrect,numQuestions:this.state.numQuestions,username:this.props.client.username,plus:this.props.client.plus,myStat:"".concat(this.state.me.wins," ").concat(1===this.state.me.wins?"Win":"Wins"),saveStats:this.saveStats,renderStandingStat:A,renderStats:this.renderStats,corrects:this.props.client.corrects,incorrects:this.props.client.incorrects,questions:this.props.client.questions,blockAccounts:!this.props.client.allowAccounts,tokenMultiplier:1}):null):o.a.createElement(u.a,{to:"/play"})}}])&&j(t.prototype,n),a&&j(t,a),s}(o.a.Component);P.propTypes={client:c.a.object,deleteClient:c.a.func.isRequired,firebase:c.a.object};t.a=Object(l.a)(Object(s.b)((function(e){return{client:e.clients.client}}),(function(e){return Object(r.b)({deleteClient:h.a},e)}))(Object(C.d)(P)))},NhRI:function(e,t,n){(t=e.exports=n("Ai0b")(!1)).push([e.i,".styles__winsText___HWdJ_-camelCase{font-size:28px;font-weight:700;margin-right:10px;color:#3a3a3a;line-height:50px;font-family:Nunito,sans-serif;text-align:right;overflow:hidden}",""]),t.locals={winsText:"styles__winsText___HWdJ_-camelCase"}},OkwM:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var a="PREPARE_MATCH",o="SET_STANDING"},"P/zL":function(e,t,n){(t=e.exports=n("Ai0b")(!1)).push([e.i,".styles__topHeader___29njE-camelCase{font-family:Nunito,sans-serif;font-size:45px;font-weight:700;margin:25px 5% 0;color:#3a3a3a}.styles__mainContainer___35Yk_-camelCase{display:flex;flex-flow:row wrap;justify-content:flex-start;margin:5px 5%;width:90%;max-width:1200px}.styles__infoContainer___1BWYd-camelCase{border-radius:5px;background-color:#fff;box-shadow:0 0 8px 3px rgba(0,0,0,.2);margin:12px;padding:15px 25px;min-width:460px;display:flex;flex-direction:column;color:#3a3a3a}.styles__headerRow___14rTG-camelCase{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;margin-bottom:3px}.styles__headerIcon___3Hxu3-camelCase{padding-right:10px;font-size:28px;color:#669}.styles__header___3BKua-camelCase{font-size:30px;font-family:Nunito,sans-serif;font-weight:700}.styles__text___18ipR-camelCase{padding:2px 0}.styles__link___2LH4q-camelCase,.styles__text___18ipR-camelCase{text-align:left;font-size:20px;font-family:Nunito,sans-serif}.styles__link___2LH4q-camelCase{color:#0bc2cf;display:inline-block;text-decoration:underline;padding-top:4px;padding-bottom:3px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none;cursor:pointer}.styles__subscriptionText___EtYA9-camelCase{display:flex;flex-direction:row;align-items:center;margin:2px 0;font-size:26px}.styles__blooketText___2MHKO-camelCase{font-family:Titan One,sans-serif;margin-right:5px;padding-bottom:3px}.styles__planText___3OkgA-camelCase,.styles__upgradeButton___Bxv1A-camelCase{font-family:Nunito,sans-serif;font-weight:700}.styles__upgradeButton___Bxv1A-camelCase{width:160px;height:40px;line-height:40px;background-color:#ff7b24;border-radius:7px;margin:20px 0 0;box-shadow:0 0 8px 3px rgba(0,0,0,.2);cursor:pointer;text-align:center;text-decoration:none;outline:none;font-size:20px;color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:.2s}.styles__upgradeButton___Bxv1A-camelCase:hover{transform:scale(.95)}@media only screen and (max-width:1200px){.styles__infoContainer___1BWYd-camelCase{flex-grow:1}}@media only screen and (max-width:600px){.styles__mainContainer___35Yk_-camelCase{min-width:320px;margin:auto;width:95%}.styles__infoContainer___1BWYd-camelCase{min-width:290px;padding:15px;flex-grow:1}}",""]),t.locals={topHeader:"styles__topHeader___29njE-camelCase",mainContainer:"styles__mainContainer___35Yk_-camelCase",infoContainer:"styles__infoContainer___1BWYd-camelCase",headerRow:"styles__headerRow___14rTG-camelCase",headerIcon:"styles__headerIcon___3Hxu3-camelCase",header:"styles__header___3BKua-camelCase",text:"styles__text___18ipR-camelCase",link:"styles__link___2LH4q-camelCase",subscriptionText:"styles__subscriptionText___EtYA9-camelCase",blooketText:"styles__blooketText___2MHKO-camelCase",planText:"styles__planText___3OkgA-camelCase",upgradeButton:"styles__upgradeButton___Bxv1A-camelCase"}},VXoi:function(e,t,n){(t=e.exports=n("Ai0b")(!1)).push([e.i,".styles__header___3Kwxl-camelCase{font-size:44px;text-shadow:2px 2px 8px grey;top:12.5%;left:50%;transform:translateX(-50%);font-family:Titan One,sans-serif}.styles__container___3_NGR-camelCase,.styles__header___3Kwxl-camelCase{color:#fff;text-align:center;position:absolute;opacity:0;-webkit-animation:styles__fadeIn___2Rq14-camelCase .3s linear .3s forwards;animation:styles__fadeIn___2Rq14-camelCase .3s linear .3s forwards}.styles__container___3_NGR-camelCase{width:90px;height:90px;line-height:90px;background-color:transparent;border-radius:5%;border:5px solid #fff;top:calc(50% - 50px);left:calc(50% - 50px);font-size:40px}.styles__correctAnswers___2hT7Z-camelCase{font-size:30px;line-height:33px;color:#fff;text-shadow:2px 2px 8px grey;text-align:center;position:absolute;bottom:10%;left:15%;width:70%;font-family:Nunito,sans-serif;font-weight:700;opacity:0;-webkit-animation:styles__fadeIn___2Rq14-camelCase .3s linear 1.3s forwards;animation:styles__fadeIn___2Rq14-camelCase .3s linear 1.3s forwards}.styles__background___3Dyz6-camelCase{opacity:0;z-index:5;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-animation:styles__fadeIn___2Rq14-camelCase .3s linear 0s forwards;animation:styles__fadeIn___2Rq14-camelCase .3s linear 0s forwards}@-webkit-keyframes styles__fadeIn___2Rq14-camelCase{0%{opacity:0}to{opacity:1}}@keyframes styles__fadeIn___2Rq14-camelCase{0%{opacity:0}to{opacity:1}}",""]),t.locals={header:"styles__header___3Kwxl-camelCase",container:"styles__container___3_NGR-camelCase",fadeIn:"styles__fadeIn___2Rq14-camelCase",correctAnswers:"styles__correctAnswers___2hT7Z-camelCase",background:"styles__background___3Dyz6-camelCase"}},VwtT:function(e,t,n){"use strict";var a=n("mXGw"),o=n.n(a),r=n("cnbf"),s=n("/m4v"),i=n("W0B4"),c=n.n(i),l=n("FbNb"),u=n("aEK/"),p=n("4Ebc"),m=n("8Jek"),f=n.n(m),h=n("dLXD"),d=n("iyvi"),y=n("oi/j"),_=n("z6Is"),b=n("Bwu/"),g=n.n(b),v=n("9xwJ"),w=n.n(v),x=n("z6L1"),C=n("7A/G"),E=n("uEAT"),k=n("dLlt");function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t,n,a,o,r,s){try{var i=e[r](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,o)}function j(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=q(e);if(t){var o=q(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(c,e);var t,n,a,r,s,i=T(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={tip:Object(C.a)()},t.dbRef={},t}return t=c,(n=[{key:"componentDidMount",value:(r=regeneratorRuntime.mark((function e(){var t,n,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.client&&this.props.client.question&&this.props.client.question.answers&&this.props.client.answer){e.next=2;break}return e.abrupt("return");case 2:return Object(k.c)(),t=this.props.client.team,n=t?this.props.client.team.name:this.props.client.name,e.next=7,this.props.firebase.getDatabaseRef(this.props.client.hostId,"stg");case 7:this.dbRef=e.sent,this.dbRef.on("value",(function(e){switch(e.val()){case"bres":a.props.history.push("/play/battle-royale/answer/result");break;case"prv":a.props.firebase.getDatabaseVal(a.props.client.hostId,"c/".concat(n),(function(e){e&&e.op?a.props.firebase.getDatabaseVal(a.props.client.hostId,"c/".concat(e.op),(function(o){o?(a.props.prepareMatch(e.e,[{name:n,energy:e.e,blook:t?a.props.client.team.blook:a.props.client.blook,players:e.p},{name:e.op,energy:o.e,blook:o.b,players:o.p,clone:o.op!==n}]),a.props.history.push("/play/battle-royale/match/preview")):(a.props.prepareMatch(e.e,null),a.props.history.push("/play/battle-royale/match/preview"))})):(a.props.prepareMatch(0,null),a.props.history.push("/play/battle-royale/match/preview"))}));break;case null:a.props.deleteClient(),a.props.history.push("/play")}}));case 9:case"end":return e.stop()}}),e,this)})),s=function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function s(e){S(o,n,a,s,i,"next",e)}function i(e){S(o,n,a,s,i,"throw",e)}s(void 0)}))},function(){return s.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){Object.keys(this.dbRef).length&&this.dbRef.off("value"),Object(k.t)()}},{key:"render",value:function(){return this.props.client&&this.props.client.question&&this.props.client.question.answers&&this.props.client.answer?o.a.createElement("div",{className:p.isMobile?w.a.mBody:w.a.body,style:{backgroundColor:"#fff",overflow:"hidden"}},o.a.createElement(_.a,{title:"Play Royale | Blooket",desc:"Join a game of Blooket to answer questions and compete in a fierce clash to determine who is the best and what Blook will come out victorious."}),o.a.createElement(y.a,{name:this.props.client.name,energy:this.props.client.energy}),o.a.createElement("div",{className:w.a.regularBody},o.a.createElement(x.a,{header:"Answer Sent!",blook:this.props.client.team?this.props.client.team.blook:this.props.client.blook,transition:this.state.transitioning}),o.a.createElement("div",{className:f()(w.a.bottomTipText,(e={},t=g.a.textFade,n=this.state.transitioning,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e))},this.state.tip),o.a.createElement("div",{className:this.state.transitioning?g.a.fade:g.a.fadeWaiting}))):o.a.createElement(u.a,{to:"/play"});var e,t,n}}])&&j(t.prototype,n),a&&j(t,a),c}(o.a.Component);N.propTypes={client:c.a.shape({name:c.a.string,hostId:c.a.string,points:c.a.number,score:c.a.number,answer:c.a.string,blook:c.a.string,totalPoints:c.a.number,corrects:c.a.object,incorrects:c.a.object,energy:c.a.number,question:c.a.object,times:c.a.array,safe:c.a.bool,team:c.a.object}),history:c.a.object.isRequired,deleteClient:c.a.func.isRequired,prepareMatch:c.a.func.isRequired,firebase:c.a.object};t.a=Object(l.a)(Object(s.b)((function(e){return{client:e.clients.client}}),(function(e){return Object(r.b)({deleteClient:d.a,prepareMatch:h.a},e)}))(Object(E.d)(N)))},YOaw:function(e,t,n){var a=n("giHk");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("UezQ")(a,o);a.locals&&(e.exports=a.locals)},YnMB:function(e,t,n){(t=e.exports=n("Ai0b")(!1)).push([e.i,".styles__fadeWaiting___87TuU-camelCase{opacity:1}.styles__fade___1Yq2U-camelCase,.styles__fadeWaiting___87TuU-camelCase{width:100vw;height:100%;z-index:-1;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#0bc2cf}.styles__fade___1Yq2U-camelCase{opacity:0;transition:opacity .3s linear .5s}.styles__textFade___3VnYE-camelCase{-webkit-animation:styles__fadeOut___2xd4p-camelCase .3s linear .5s forwards;animation:styles__fadeOut___2xd4p-camelCase .3s linear .5s forwards}@-webkit-keyframes styles__fadeOut___2xd4p-camelCase{0%{opacity:1}to{opacity:0}}@keyframes styles__fadeOut___2xd4p-camelCase{0%{opacity:1}to{opacity:0}}",""]),t.locals={fadeWaiting:"styles__fadeWaiting___87TuU-camelCase",fade:"styles__fade___1Yq2U-camelCase",textFade:"styles__textFade___3VnYE-camelCase",fadeOut:"styles__fadeOut___2xd4p-camelCase"}},YtZf:function(e,t,n){"use strict";var a=n("mXGw"),o=n.n(a),r=n("cnbf"),s=n("/m4v"),i=n("W0B4"),c=n.n(i),l=n("thVU"),u=n("FbNb"),p=n("TiKg"),m=n.n(p),f=n("czhI"),h=n.n(f),d=n("8Jek"),y=n.n(d),_=n("4Ebc"),b=n("iE/P"),g=n("9xwJ"),v=n.n(g),w=n("F59X"),x=n.n(w),C=n("EqBC"),E=n("z6Is"),k=n("KS4/");function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t,n,a,o,r,s){try{var i=e[r](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,o)}function j(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?q(e):t}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(c,e);var t,n,a,r,s,i=T(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={name:"",email:"",role:"",date:"",plan:"",planEnd:"",planRenew:!1,loading:!1,end:"",hasPassword:""},t.name="",t.stripeId="",t.here=!0,t.switchRole=t.switchRole.bind(q(t)),t.editStripe=t.editStripe.bind(q(t)),t}return t=c,(n=[{key:"componentDidMount",value:(r=regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.user.getData();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",this.props.history.push("/login"));case 5:this.setState({name:t.name,email:t.email,role:t.role,date:m()(t.dateCreated).format("dddd, MMMM Do, YYYY"),hasPassword:t.hasPassword}),this.name=t.name,this.stripeId=t.stripe,h.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,h.a.put("/api/users/plan",{name:t.name,stripeId:t.stripe}).then((function(e){n.setState({plan:e.data.plan,planEnd:m()(e.data.planEnd).format("dddd, MMMM Do, YYYY"),planRenew:e.data.planRenew})})).catch((function(e){console.error(e)}));case 10:case"end":return e.stop()}}),e,this)})),s=function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function s(e){S(o,n,a,s,i,"next",e)}function i(e){S(o,n,a,s,i,"throw",e)}s(void 0)}))},function(){return s.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.here=!1}},{key:"switchRole",value:function(){var e=this;this.setState({loading:!0});var t="Teacher"===this.state.role?"Student":"Teacher";h.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,h.a.put("/api/users/setrole",{name:this.name,role:t}).then((function(n){localStorage.setItem("token",n.data),e.here&&e.setState({loading:!1,role:t})})).catch((function(t){console.error(t),e.setState({loading:!1})}))}},{key:"editStripe",value:function(){var e=this;this.setState({loading:!0}),h.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,h.a.post("/api/users/stripe/billing",{stripeId:this.stripeId}).then((function(e){window.open(e.data,"_self")})).catch((function(t){console.error(t),e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:_.isMobile?v.a.mBody:v.a.body},o.a.createElement(E.a,{title:"Settings | Blooket",desc:"View your settings and basic information about your account. You can also request a password reset or contact the help team here."}),o.a.createElement(C.a,{history:this.props.history,page:"Settings"}),o.a.createElement("div",{className:v.a.profileRegularBody},o.a.createElement("div",{className:x.a.topHeader},"Settings"),o.a.createElement("div",{className:x.a.mainContainer},o.a.createElement("div",{className:x.a.infoContainer},o.a.createElement("div",{className:x.a.headerRow},o.a.createElement("i",{className:y()("fas fa-user",x.a.headerIcon)}),o.a.createElement("div",{className:x.a.header},"Profile")),o.a.createElement("div",{className:x.a.text},o.a.createElement("b",null,"Username:")," ",this.state.name),this.state.email.length<60?o.a.createElement("div",{className:x.a.text},o.a.createElement("b",null,"Email:")," ",this.state.email):null,o.a.createElement("div",{className:x.a.text},o.a.createElement("b",null,"Role:")," ",this.state.role),o.a.createElement("div",{className:x.a.text},o.a.createElement("b",null,"Joined:")," ",this.state.date)),o.a.createElement("div",{className:x.a.infoContainer},o.a.createElement("div",{className:x.a.headerRow},o.a.createElement("i",{className:y()("fas fa-clipboard-list",x.a.headerIcon)}),o.a.createElement("div",{className:x.a.header},"Plan")),o.a.createElement("div",{className:x.a.subscriptionText},o.a.createElement("div",{className:x.a.blooketText},"Blooket"),o.a.createElement("div",{className:x.a.planText,style:{color:"Starter"!==this.state.plan?"#ff7b24":"#0bc2cf"}},this.state.plan)),"Starter"===this.state.plan?o.a.createElement(l.a,{className:x.a.upgradeButton,to:"/upgrade"},"Upgrade Now!"):["Plus","Plus Flex"].includes(this.state.plan)?o.a.createElement("div",null,o.a.createElement("div",{className:x.a.text},o.a.createElement("b",null,"End Date:")," ",this.state.planEnd),this.state.planRenew?o.a.createElement("div",{className:x.a.link,role:"button",tabIndex:0,onClick:this.editStripe},"Edit Subscription"):null):null),o.a.createElement("div",{className:x.a.infoContainer},o.a.createElement("div",{className:x.a.headerRow},o.a.createElement("i",{className:y()("fas fa-pencil-alt",x.a.headerIcon)}),o.a.createElement("div",{className:x.a.header},"Edit Info")),o.a.createElement("div",null,o.a.createElement(l.a,{className:x.a.link,to:"/change/name"},"Change Name")),o.a.createElement("div",null,o.a.createElement("div",{className:x.a.link,role:"button",tabIndex:0,onClick:this.switchRole},"Teacher"===this.state.role?"Switch to Student Account":"Switch to Teacher Account")),this.state.hasPassword?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement(l.a,{className:x.a.link,to:"/forgot"},"Request Password Reset")),o.a.createElement("div",null,o.a.createElement(l.a,{className:x.a.link,to:"/change/email"},"Change Email"))):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement(l.a,{className:x.a.link,to:"/add-password"},"Add Blooket Password")),o.a.createElement("div",{className:x.a.text},o.a.createElement("u",null,"Change Email")," (Add a Password First)")),o.a.createElement("div",null,o.a.createElement(l.a,{className:x.a.link,to:"/delete"},"Delete Account"))),o.a.createElement("div",{className:x.a.infoContainer},o.a.createElement("div",{className:x.a.headerRow},o.a.createElement("i",{className:y()("fas fa-comments",x.a.headerIcon)}),o.a.createElement("div",{className:x.a.header},"Social")),o.a.createElement("div",null,o.a.createElement("a",{className:x.a.link,href:"https://twitter.com/playblooket",target:"_blank",rel:"noopener noreferrer"},o.a.createElement("i",{className:"fab fa-twitter-square",style:{marginRight:7}}),"Twitter")),o.a.createElement("div",null,o.a.createElement("a",{className:x.a.link,href:"https://www.instagram.com/playblooket",target:"_blank",rel:"noopener noreferrer"},o.a.createElement("i",{className:"fab fa-instagram-square",style:{marginRight:7}}),"Instagram")),o.a.createElement("div",null,o.a.createElement("a",{className:x.a.link,href:"https://www.facebook.com/PlayBlooket",target:"_blank",rel:"noopener noreferrer"},o.a.createElement("i",{className:"fab fa-facebook-square",style:{marginRight:7}}),"Facebook"))),o.a.createElement("div",{className:x.a.infoContainer},o.a.createElement("div",{className:x.a.headerRow},o.a.createElement("i",{className:y()("fas fa-question-circle",x.a.headerIcon)}),o.a.createElement("div",{className:x.a.header},"Support")),o.a.createElement("div",{className:x.a.text},"Contact us at: ",o.a.createElement("a",{className:x.a.link,href:"mailto:contact-us@blooket.com"},"contact-us@blooket.com")),o.a.createElement("div",null,o.a.createElement(l.a,{className:x.a.link,to:"/faq"},"Frequently Asked Questions"))),o.a.createElement("div",{className:x.a.infoContainer},o.a.createElement("div",{className:x.a.headerRow},o.a.createElement("i",{className:y()("fas fa-lock",x.a.headerIcon)}),o.a.createElement("div",{className:x.a.header},"Privacy")),o.a.createElement("div",null,o.a.createElement(l.a,{className:x.a.link,to:"/privacy"},"Privacy Policy")),o.a.createElement("div",null,o.a.createElement(l.a,{className:x.a.link,to:"/terms"},"Terms of Service"))))),this.state.loading||this.state.end?o.a.createElement(k.a,{text:this.state.end||"Processing...",loading:this.state.loading,buttonOne:{text:"Success!"===this.state.end?"Thanks!":"Refresh",click:function(){return e.setState({loading:!1,end:""})},color:"blue"}}):this.state.referPop?o.a.createElement(k.a,{text:this.state.loading?"Loading...":"Enter Referrer's Username:",loading:this.state.loading,stringValue:this.state.referInput,stringChange:function(t){return e.setState({referInput:t.target.value})},onSubmit:this.onRefer,buttonOne:{text:"Done",click:this.onRefer,color:"blue"},buttonTwo:{text:"Back",click:function(){return e.setState({referPop:!1})},color:"blue"}}):this.state.referRes?o.a.createElement(k.a,{text:this.state.referRes,buttonOne:{text:"Done",click:function(){return e.setState({referRes:""})},color:"blue"}}):null)}}])&&j(t.prototype,n),a&&j(t,a),c}(o.a.Component);A.propTypes={history:c.a.object.isRequired,user:c.a.object};t.a=Object(b.c)(Object(u.a)(Object(s.b)((function(){return{}}),(function(e){return Object(r.b)({},e)}))(A)))},ZorK:function(e,t,n){"use strict";var a=n("mXGw"),o=n.n(a),r=n("cnbf"),s=n("/m4v"),i=n("W0B4"),c=n.n(i),l=n("FbNb"),u=n("aEK/"),p=n("4Ebc"),m=n("dLXD"),f=n("iyvi"),h=n("oi/j"),d=n("z6Is"),y=n("YOaw"),_=n.n(y),b=n("9xwJ"),g=n.n(b),v=n("oKa0"),w=n("dLlt"),x=n("uEAT");function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,o=!1,r=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(o)throw r}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function R(e,t,n,a,o,r,s){try{var i=e[r](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,o)}function T(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=["Way to Go!","Nice Work!","Good Job!","Keep It Up!","Well Done!","Rock On!","Awesome Sauce!","Let's Go!"],B=["Great Effort!","You Got This!","Don't Give Up!"],D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(c,e);var t,n,a,r,s,i=q(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={win:!1,winner:{},loser:{},bothLose:!1,bothWin:!1,deadHeader:"",myEnergy:-1},t.dbRef={},t}return t=c,(n=[{key:"componentDidMount",value:(r=regeneratorRuntime.mark((function e(){var t,n,a,o,r,s,i,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.client&&this.props.client.maxEnergy){e.next=2;break}return e.abrupt("return");case 2:return Object(w.c)(),t=this.props.client.team,n=t?this.props.client.team.name:this.props.client.name,e.next=7,this.props.firebase.getDatabaseRef(this.props.client.hostId,"stg");case 7:if(this.dbRef=e.sent,this.dbRef.on("value",(function(e){switch(e.val()){case"prv":c.props.firebase.getDatabaseVal(c.props.client.hostId,"c/".concat(n),(function(e){e&&e.op?c.props.firebase.getDatabaseVal(c.props.client.hostId,"c/".concat(e.op),(function(a){a?(c.props.prepareMatch(e.e,[{name:n,energy:e.e,blook:t?c.props.client.team.blook:c.props.client.blook,players:e.p},{name:e.op,energy:a.e,blook:a.b,players:a.p,clone:a.op!==n}]),c.props.history.push("/play/battle-royale/match/preview")):(c.props.prepareMatch(e.e,null),c.props.history.push("/play/battle-royale/match/preview"))})):(c.props.prepareMatch(0,null),c.props.history.push("/play/battle-royale/match/preview"))}));break;case"fin":c.props.firebase.getDatabaseVal(c.props.client.hostId,"st",(function(e){e?(c.props.setStanding(Object.entries(e).map((function(e){var t=S(e,2),n=t[0],a=t[1];return{name:n,blook:a.b,place:a.p,wins:a.w,numPlayers:a.nu}})).filter((function(e){return e.wins||0===e.wins}))),c.props.history.push("/play/battle-royale/final")):c.props.history.push("/play")}));break;case null:c.props.deleteClient(),c.props.history.push("/play")}})),this.win=!1,this.props.client.energy&&this.props.client.match&&this.props.client.match[0]){e.next=13;break}return this.setState({deadHeader:this.props.client.defeated>0?Object(w.o)(P):Object(w.o)(B)}),e.abrupt("return");case 13:a=this.props.client.team?this.props.client.team.name:this.props.client.name,o=this.props.client.match[0].name===a?this.props.client.match[0]:this.props.client.match[1],r=this.props.client.match[0].name===a?this.props.client.match[1]:this.props.client.match[0],s=o.correct&&!r.correct||o.correct&&o.time<=r.time,this.win=s,i=r.correct&&!o.correct||r.correct&&r.time<=o.time,this.setState({myEnergy:this.props.client.energy,winner:s?o:r,loser:s?r:o,bothLose:!s&&!i,bothWin:s&&i,win:s},(function(){c.state.bothWin||c.props.client.safe||(c.decreaseTimeout=setTimeout((function(){c.setState({loser:k(k({},c.state.loser),{},{energy:p.isMobile?c.state.loser.energy-1:c.state.loser.energy}),myEnergy:c.state.win?c.state.myEnergy:c.state.myEnergy-1})}),8600))}));case 20:case"end":return e.stop()}}),e,this)})),s=function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function s(e){R(o,n,a,s,i,"next",e)}function i(e){R(o,n,a,s,i,"throw",e)}s(void 0)}))},function(){return s.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){clearTimeout(this.decreaseTimeout),Object.keys(this.dbRef).length&&this.dbRef.off("value"),Object(w.t)()}},{key:"render",value:function(){return this.props.client&&this.props.client.maxEnergy?o.a.createElement("div",{className:p.isMobile?g.a.mBody:g.a.body,style:{overflow:"hidden"}},o.a.createElement(d.a,{title:"Play Royale | Blooket",desc:"Join a game of Blooket to answer questions and compete in a fierce clash to determine who is the best and what Blook will come out victorious."}),o.a.createElement(h.a,{name:this.props.client.name,energy:-1===this.state.myEnergy?this.props.client.energy:this.state.myEnergy}),o.a.createElement("div",{className:g.a.regularBody,style:{overflow:"hidden"}},this.props.client.energy<=0?o.a.createElement("div",{className:_.a.eliminatedContainer},o.a.createElement("div",{className:_.a.eliminatedHeader},this.state.deadHeader),o.a.createElement("div",{className:_.a.eliminatedText},this.props.client.defeated>0?"You would have beaten ".concat(this.props.client.defeated," ").concat(1===this.props.client.defeated?"player":"players","!"):"Waiting For Matches to Finish Up...")):o.a.createElement(v.a,{victoryText:this.state.win?"Victory":"Defeat",winner:this.state.winner,loser:this.state.loser,bothWin:this.state.bothWin,bothLose:this.state.bothLose,maxEnergy:this.props.client.maxEnergy,win:this.state.win,safe:this.props.client.safe,team:Boolean(this.props.client.team)}))):o.a.createElement(u.a,{to:"/play"})}}])&&T(t.prototype,n),a&&T(t,a),c}(o.a.Component);D.propTypes={client:c.a.shape({name:c.a.string,hostId:c.a.string,points:c.a.number,score:c.a.number,answer:c.a.string,blook:c.a.string,totalPoints:c.a.number,corrects:c.a.object,incorrects:c.a.object,energy:c.a.number,question:c.a.object,match:c.a.array,maxEnergy:c.a.number,defeated:c.a.number,safe:c.a.bool,times:c.a.array,team:c.a.object}),history:c.a.object.isRequired,deleteClient:c.a.func.isRequired,firebase:c.a.object,prepareMatch:c.a.func.isRequired,setStanding:c.a.func.isRequired};t.a=Object(l.a)(Object(s.b)((function(e){return{client:e.clients.client}}),(function(e){return Object(r.b)({deleteClient:f.a,prepareMatch:m.a,setStanding:m.b},e)}))(Object(x.d)(D)))},bTMN:function(e,t,n){"use strict";var a=n("mXGw"),o=n.n(a),r=n("cnbf"),s=n("/m4v"),i=n("W0B4"),c=n.n(i),l=n("FbNb"),u=n("aEK/"),p=n("TGEZ"),m=n.n(p),f=n("4Ebc"),h=n("mNLu");function d(e,t,n,a){return{type:h.a,answer:e,correct:t,time:n,qNum:a}}var y=n("dLXD"),_=n("iyvi"),b=n("oi/j"),g=n("z6Is"),v=n("9xwJ"),w=n.n(v),x=n("btIy"),C=n("uEAT"),E=n("dLlt");function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t,n,a,o,r,s){try{var i=e[r](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,o)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var r=e.apply(t,n);function s(e){O(r,a,o,s,i,"next",e)}function i(e){O(r,a,o,s,i,"throw",e)}s(void 0)}))}}function j(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?q(e):t}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(c,e);var t,n,a,r,s,i=T(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={timer:10},t.ready=!1,t.answer="",t.dbRef={},t.msg={},t.isReading=!1,t.onAnswer=t.onAnswer.bind(q(t)),t.readQuestion=t.readQuestion.bind(q(t)),t}return t=c,(n=[{key:"componentDidMount",value:(s=S(regeneratorRuntime.mark((function e(){var t,n,a,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.client&&this.props.client.question&&this.props.client.question.answers){e.next=2;break}return e.abrupt("return");case 2:return Object(E.c)(),this.startTime=m()(),this.answer="",this.ready=!1,this.readyTimeout=setTimeout((function(){o.ready=!0}),250),t=this.props.client.question.timeLimit,this.setState({timer:t}),this.interval=setInterval((function(){(t-=1)<=0?clearInterval(o.interval):o.setState({timer:t})}),1e3),n=this.props.client.team,a=n?this.props.client.team.name:this.props.client.name,e.next=14,this.props.firebase.getDatabaseRef(this.props.client.hostId,"stg");case 14:this.dbRef=e.sent,this.dbRef.on("value",(function(e){switch(e.val()){case"bres":o.props.history.push("/play/battle-royale/answer/result");break;case"prv":o.props.firebase.getDatabaseVal(o.props.client.hostId,"c/".concat(a),(function(e){e&&e.op?o.props.firebase.getDatabaseVal(o.props.client.hostId,"c/".concat(e.op),(function(t){t?(o.props.prepareMatch(e.e,[{name:a,energy:e.e,blook:n?o.props.client.team.blook:o.props.client.blook,players:e.p},{name:e.op,energy:t.e,blook:t.b,players:t.p,clone:t.op!==a}]),o.props.history.push("/play/battle-royale/match/preview")):(o.props.prepareMatch(e.e,null),o.props.history.push("/play/battle-royale/match/preview"))})):(o.props.prepareMatch(0,null),o.props.history.push("/play/battle-royale/match/preview"))}));break;case null:o.props.deleteClient(),o.props.history.push("/play")}}));case 16:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.msg.onend=function(){},clearTimeout(this.readyTimeout),clearInterval(this.interval),Object.keys(this.dbRef).length&&this.dbRef.off("value"),Object(E.t)()}},{key:"onAnswer",value:function(e){if(this.ready&&!this.answer){this.answer=e,this.isReading=!1,this.msg.onend=function(){};var t=m()()-this.startTime;this.props.client.answer||(this.props.answerRoyale(this.answer,this.props.client.question.correctAnswers.includes(this.answer),parseFloat(t.toFixed(0)),this.props.client.question.number),this.props.firebase.setVal({id:this.props.client.hostId,path:"a/".concat(this.props.client.name),val:{a:this.props.client.question.answers.indexOf(this.answer),t:parseFloat(t.toFixed(0))}})),this.props.history.push("/play/battle-royale/answer/sent")}}},{key:"readQuestion",value:(r=S(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isReading){e.next=2;break}return e.abrupt("return");case 2:return this.isReading=!0,t=function(e,t,a){n.msg=new SpeechSynthesisUtterance,n.msg.text=e,document.getElementById(t)&&(document.getElementById(t).style.textDecoration="underline"),window.speechSynthesis.speak(n.msg),n.msg.onend=function(){document.getElementById(t)&&(document.getElementById(t).style.textDecoration="none"),a()}},e.next=6,new Promise((function(e){return t(n.props.client.question.text,"qText",e)}));case 6:return e.next=8,new Promise((function(e){return t(n.props.client.question.answers[0],"q1",e)}));case 8:return e.next=10,new Promise((function(e){return t(n.props.client.question.answers[1],"q2",e)}));case 10:if(!this.props.client.question.answers[2]){e.next=13;break}return e.next=13,new Promise((function(e){return t(n.props.client.question.answers[2],"q3",e)}));case 13:if(!this.props.client.question.answers[3]){e.next=16;break}return e.next=16,new Promise((function(e){return t(n.props.client.question.answers[3],"q4",e)}));case 16:this.isReading=!1;case 17:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"render",value:function(){return this.props.client&&this.props.client.question&&this.props.client.question.answers?o.a.createElement("div",{className:f.isMobile?w.a.mBody:w.a.body,style:{overflow:"hidden"}},o.a.createElement(g.a,{title:"Play Royale | Blooket",desc:"Join a game of Blooket to answer questions and compete in a fierce clash to determine who is the best and what Blook will come out victorious."}),o.a.createElement(b.a,{name:this.props.client.name,energy:this.props.client.energy,rightText:this.state.timer.toString(),showRead:!0,readQuestion:this.readQuestion}),o.a.createElement(x.a,{onAnswer:this.onAnswer,text:this.props.client.question.text,answers:this.props.client.question.answers,image:this.props.client.question.image})):o.a.createElement(u.a,{to:"/play"})}}])&&j(t.prototype,n),a&&j(t,a),c}(o.a.Component);A.propTypes={client:c.a.shape({name:c.a.string,hostId:c.a.string,points:c.a.number,score:c.a.number,answer:c.a.string,blook:c.a.string,totalPoints:c.a.number,corrects:c.a.object,incorrects:c.a.object,energy:c.a.number,question:c.a.object,times:c.a.array,safe:c.a.bool,team:c.a.object}),history:c.a.object.isRequired,deleteClient:c.a.func.isRequired,answerRoyale:c.a.func.isRequired,prepareMatch:c.a.func.isRequired,firebase:c.a.object};t.a=Object(l.a)(Object(s.b)((function(e){return{client:e.clients.client}}),(function(e){return Object(r.b)({deleteClient:_.a,answerRoyale:d,prepareMatch:y.a},e)}))(Object(C.d)(A)))},dLXD:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var a=n("OkwM");function o(e,t){return{type:a.a,energy:e,match:t}}function r(e){return{type:a.b,standing:e}}},giHk:function(e,t,n){(t=e.exports=n("Ai0b")(!1)).push([e.i,".styles__eliminatedContainer___2QZKl-camelCase{display:flex;flex-direction:column;align-content:center;justify-content:center;text-align:center;position:absolute;top:50%;left:10%;width:80%;transform:translateY(-50%);color:#3a3a3a;opacity:0;-webkit-animation:styles__fadeIn___3fBqJ-camelCase .1s linear .5s forwards;animation:styles__fadeIn___3fBqJ-camelCase .1s linear .5s forwards}@-webkit-keyframes styles__fadeIn___3fBqJ-camelCase{0%{opacity:0}to{opacity:1}}@keyframes styles__fadeIn___3fBqJ-camelCase{0%{opacity:0}to{opacity:1}}.styles__eliminatedHeader___3dgvQ-camelCase{font-size:50px;font-family:Titan One,sans-serif;margin-bottom:20px}.styles__eliminatedText___15RwH-camelCase{font-size:26px;font-family:Nunito,sans-serif}",""]),t.locals={eliminatedContainer:"styles__eliminatedContainer___2QZKl-camelCase",fadeIn:"styles__fadeIn___3fBqJ-camelCase",eliminatedHeader:"styles__eliminatedHeader___3dgvQ-camelCase",eliminatedText:"styles__eliminatedText___15RwH-camelCase"}},glgb:function(e,t,n){"use strict";n.d(t,"b",(function(){return F}));var a=n("mXGw"),o=n.n(a),r=n("cnbf"),s=n("/m4v"),i=n("W0B4"),c=n.n(i),l=n("aEK/"),u=n("FbNb"),p=n("BVxp"),m=n("8Jek"),f=n.n(m),h=n("czhI"),d=n.n(h),y=n("3FZc"),_=n("bIpl"),b=n("Bnqp"),g=n("5Ol3"),v=n("9xwJ"),w=n.n(v),x=n("qcxl"),C=n.n(x),E=n("z6Is"),k=n("Dfuw"),O=n("oKa0"),S=n("l8QJ"),j=n("uEAT"),R=n("dLlt");function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=B(e);if(t){var o=B(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,o=!1,r=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(o)throw r}}return n}(e,t)||M(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(e,t,n,a,o,r){var s=JSON.parse(JSON.stringify(e||[])),i=Object(R.v)(s.map((function(e){return Y({},e)})).filter((function(e){return e&&e.name&&e.blook}))),c=JSON.parse(JSON.stringify(o||[]));if(0===c.length)return null;var l=JSON.parse(JSON.stringify(n||[]));l.length===c.length&&(l=[]);var u=c.filter((function(e){return!l.includes(e.number)})),p=Object(R.o)(u);l.push(p.number);var m=a?z(a):[];m.length<c.length&&m.push(p.number);var f=z(p.answers);p.random&&(f=Object(R.v)(f));for(var h=Y(Y({},p),{},{answers:f}),d=[],y=0;y<p.answers.length;y++)d.push(f.indexOf(p.answers[y]));var _=d.join(""),b=[],g={};if(i.length%2==1){var v=Object(R.o)(i);i.splice(i.indexOf(v),1);var w=Object(R.o)(i);b.push([Y(Y({},v),{},{time:0,correct:!1}),Y(Y({},w),{},{clone:!0,time:0,correct:!1})]),g[v.name]={b:v.blook,e:v.energy,op:w.name}}for(var x=0;x<i.length;x+=2)b.unshift([Y(Y({},i[x]),{},{time:0,correct:!1}),Y(Y({},i[x+1]),{},{time:0,correct:!1})]),g[i[x].name]={b:i[x].blook,e:i[x].energy,op:i[x+1].name},g[i[x+1].name]={b:i[x+1].blook,e:i[x+1].energy,op:i[x].name};if(Object.values(r).forEach((function(e){e.forEach((function(e){g[e.name]={b:e.blook,e:0}}))})),t){var C={};Object.entries(g).forEach((function(e){var t=D(e,2),n=t[0],a=t[1],o=JSON.parse(JSON.stringify(s)).filter((function(e){return e.blook===a.b}));if(o[0]&&o[0].players){var r=o[0].players;Object.entries(r).forEach((function(e){var t=D(e,2),n=t[0],a=t[1];r[n]=a.blook})),C[n]={e:a.e,b:a.b,op:a.op,p:r}}})),g=C}return{question:h,usedQuestions:l,questionsPlayed:m,matches:b,answerString:_,dbPlayers:g}},U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(s,e);var t,n,a,r=N(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=r.call(this,e)).state={winner:{},loser:{},bothWin:!1,bothLose:!1,ready:!1,transition:!1,muted:!!e.host&&e.host.muted},t.ok=!1,t.changeMuted=t.changeMuted.bind(P(t)),t.audio=new Audio(S.a),t.audio.muted=t.state.muted,t}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this;if(this.props.host&&this.props.host.round&&this.props.host.matches){var t=Math.max(10500,6e3+500*this.props.host.matches.length);1!==this.props.host.matches.length&&p.animateScroll.scrollToBottom({duration:.3*t,delay:.4*t,smooth:"linear",containerId:"matches"}),this.readyTimeout=setTimeout((function(){e.audio.play(),e.setState({ready:!0})}),4600);var n=this.props.host.matches[0][0],a=this.props.host.matches[0][1],o=n.correct&&!a.correct||n.correct&&n.time<=a.time,r=a.correct&&!n.correct||a.correct&&a.time<=n.time;this.setState({winner:o?n:a,loser:o?a:n,bothLose:!o&&!r,bothWin:o&&r}),this.timeout=setTimeout((function(){e.setState({transition:!0},(function(){e.timeout=setTimeout((function(){if(1===e.props.host.players.length){var t=[],n=e.props.host.dead,a=e.props.host.settings.energy,o=e.props.host.safes,r=2;Object.values(n).forEach((function(e){r+=e.length}));for(var s=a;s<=e.props.host.round;s++)if(n[s]){r-=n[s].length;var i=s-a;if(o[0]&&o[0]<s)for(var c=0;c<o.length;c++)o[c]<s&&(i-=1);for(var l=0;l<n[s].length;l++)"Teams"===e.props.host.settings.mode?t.push({name:n[s][l].name,blook:n[s][l].blook,players:n[s][l].players,place:r,wins:i}):t.push({name:n[s][l].name,blook:n[s][l].blook,place:r,wins:i})}"Teams"===e.props.host.settings.mode?t.push({name:e.props.host.players[0].name,blook:e.props.host.players[0].blook,players:e.props.host.players[0].players,place:1,wins:t.length>0?t[t.length-1].wins+e.props.host.players[0].energy:e.props.host.players[0].energy}):t.push({name:e.props.host.players[0].name,blook:e.props.host.players[0].blook,place:1,wins:t.length>0?t[t.length-1].wins+e.props.host.players[0].energy:e.props.host.players[0].energy}),t=t.reverse(),e.props.updateStandings(t);var u={};t.forEach((function(t){t.blook&&(u[t.name]={n:t.name,b:t.blook,p:t.place,w:t.wins,nu:"Teams"===e.props.host.settings.mode?Object.keys(t.players).length:1})})),e.props.firebase.setVal({id:e.props.host.id,path:"st",val:u},(function(){d.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,e.props.firebase.setStage({id:e.props.host.id,stage:"fin"},(function(){e.ok=!0,e.props.history.push("/host/battle-royale/final")}))}))}else{var p=F(e.props.host.players,"Teams"===e.props.host.settings.mode,e.props.host.usedQuestions,e.props.host.questionsPlayed,e.props.host.questions,e.props.host.dead);e.props.prepareRoyale(e.props.host.round+1,p.usedQuestions,p.questionsPlayed,"q-".concat(p.question.stdNumber,"-").concat(p.answerString),p.question,p.matches),e.props.firebase.setVal({id:e.props.host.id,path:"c",val:p.dbPlayers},(function(){d.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,e.props.firebase.setStage({id:e.props.host.id,stage:"prv"},(function(){e.ok=!0,e.props.history.push("/host/battle-royale/match/preview")}))}))}}),600)}))}),t)}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.readyTimeout),clearTimeout(this.timeout),!this.ok&&this.props.host&&this.props.host.id&&(this.props.firebase.removeHost(this.props.host.id),this.props.deleteHost())}},{key:"changeMuted",value:function(){var e=this;this.setState({muted:!this.state.muted},(function(){e.audio.muted=e.state.muted,e.props.setMuted(e.state.muted)}))}},{key:"render",value:function(){var e=this;return this.props.host&&this.props.host.round&&this.props.host.matches?o.a.createElement("div",{className:w.a.body,style:{backgroundColor:1===this.props.host.matches.length?"#f7f7f7":"#0bc2cf"}},o.a.createElement(E.a,{title:"Host Blooket",desc:"Host a game of Blooket with any question set. Then, have players join and answer questions to compete in an action-packed activity."}),o.a.createElement(g.a,{left:"Round ".concat(this.props.host.round),right:this.state.ready?"".concat(this.props.host.players.length," ").concat(1===this.props.host.players.length?"".concat("Teams"===this.props.host.settings.mode?"Team":"Player"," Remains"):"".concat("Teams"===this.props.host.settings.mode?"Teams":"Players"," Remain")):"".concat(this.props.host.players.length+(this.props.host.dead[this.props.host.round]?this.props.host.dead[this.props.host.round].length:0)," ").concat("Teams"===this.props.host.settings.mode?"Teams":"Players"," Remain"),muted:this.state.muted,changeMuted:this.changeMuted}),o.a.createElement("div",{className:f()(w.a.hostRegularBody,L({},C.a.invisible,this.state.transition))},1!==this.props.host.matches.length?o.a.createElement("div",null,o.a.createElement("div",{className:w.a.royaleHeaderContainer},o.a.createElement("div",{className:w.a.royaleHeaderText},"Match Results")),o.a.createElement(p.Element,{className:C.a.matchArray,id:"matches"},this.props.host.matches.map((function(t){return o.a.createElement(k.a,{match:t,key:t[0].name,ready:e.state.ready,safe:e.props.host.safe})})))):o.a.createElement(O.a,{victoryText:this.state.bothLose||this.props.host.safe?"Defeat":"Victory",winner:this.state.winner,loser:this.state.loser,bothWin:this.state.bothWin,bothLose:this.state.bothLose,maxEnergy:this.props.host.settings.energy,win:!(this.state.bothLose||this.props.host.safe),safe:this.props.host.safe,team:"Teams"===this.props.host.settings.mode}))):o.a.createElement(l.a,{to:"/dashboard"})}}])&&I(t.prototype,n),a&&I(t,a),s}(o.a.Component);U.propTypes={host:c.a.shape({hostName:c.a.string,id:c.a.any,question:c.a.object,questions:c.a.array,settings:c.a.object,players:c.a.array,round:c.a.number,usedQuestions:c.a.array,questionsPlayed:c.a.array,matches:c.a.array,dead:c.a.object,safe:c.a.bool,safes:c.a.array,muted:c.a.bool}),firebase:c.a.object,history:c.a.object,updateStandings:c.a.func.isRequired,prepareRoyale:c.a.func.isRequired,setMuted:c.a.func.isRequired,deleteHost:c.a.func.isRequired};t.a=Object(u.a)(Object(s.b)((function(e){return{host:e.hosts.host}}),(function(e){return Object(r.b)({updateStandings:y.b,prepareRoyale:y.a,setMuted:_.a,deleteHost:b.c},e)}))(Object(j.d)(U)))},"h+bS":function(e,t,n){var a=n("VXoi");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("UezQ")(a,o);a.locals&&(e.exports=a.locals)},hPpN:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var a="SET_MATCH_RESULT",o="SET_DEFEATED"},mJRK:function(e,t,n){var a=n("NhRI");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("UezQ")(a,o);a.locals&&(e.exports=a.locals)},mNLu:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="ANSWER_ROYALE"},oCIQ:function(e,t,n){"use strict";var a=n("mXGw"),o=n.n(a),r=n("cnbf"),s=n("/m4v"),i=n("W0B4"),c=n.n(i),l=n("aEK/"),u=n("FbNb"),p=n("czhI"),m=n.n(p),f=n("bIpl"),h=n("Bnqp"),d=n("5Ol3"),y=n("9xwJ"),_=n.n(y),b=n("z6Is"),g=n("plg3"),v=n("uEAT");function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(s,e);var t,n,a,r=E(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=r.call(this,e)).state={transitioning:!1,muted:!!e.host&&e.host.muted},t.ok=!1,t.next=t.next.bind(O(t)),t.changeMuted=t.changeMuted.bind(O(t)),t}return t=s,(n=[{key:"componentWillUnmount",value:function(){clearTimeout(this.transitionTimeout),!this.ok&&this.props.host&&this.props.host.id&&(this.props.firebase.removeHost(this.props.host.id),this.props.deleteHost())}},{key:"next",value:function(){var e=this;m.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,this.props.firebase.setStage({id:this.props.host.id,stage:"pmat-".concat(this.props.host.safe?"1":"0")},(function(){e.setState({transitioning:!0},(function(){e.transitionTimeout=setTimeout((function(){e.ok=!0,e.props.history.push("/host/battle-royale/match/results")}),300)}))}))}},{key:"changeMuted",value:function(){var e=this;this.setState({muted:!this.state.muted},(function(){e.props.setMuted(e.state.muted)}))}},{key:"render",value:function(){return this.props.host&&this.props.host.question&&this.props.host.question.text?o.a.createElement("div",{className:_.a.body},o.a.createElement(b.a,{title:"Host Blooket",desc:"Host a game of Blooket with any question set. Then, have players join and answer questions to compete in an action-packed activity."}),o.a.createElement(d.a,{left:"Round ".concat(this.props.host.round),right:"".concat(this.props.host.players.length+(this.props.host.dead[this.props.host.round]?this.props.host.dead[this.props.host.round].length:0)," ").concat("Teams"===this.props.host.settings.mode?"Teams":"Players"," Remain"),muted:this.state.muted,changeMuted:this.changeMuted}),o.a.createElement(g.a,{next:this.next,time:7,text:this.props.host.question.text,answers:this.props.host.question.answers,correctAnswers:this.props.host.question.correctAnswers,image:this.props.host.question.image?this.props.host.question.image.url:"",clientAnswers:this.props.host.clientAnswers,numClients:this.props.host.numClients,transitioning:this.state.transitioning,muted:this.state.muted,canSkip:!0})):o.a.createElement(l.a,{to:"/dashboard"})}}])&&x(t.prototype,n),a&&x(t,a),s}(o.a.Component);j.propTypes={host:c.a.shape({hostName:c.a.string,id:c.a.any,question:c.a.object,questions:c.a.array,settings:c.a.object,round:c.a.number,players:c.a.array,matches:c.a.array,clientAnswers:c.a.array,forDead:c.a.array,numClients:c.a.number,dead:c.a.object,safe:c.a.bool,muted:c.a.bool}),firebase:c.a.object,history:c.a.object,setMuted:c.a.func.isRequired,deleteHost:c.a.func.isRequired};t.a=Object(u.a)(Object(s.b)((function(e){return{host:e.hosts.host}}),(function(e){return Object(r.b)({setMuted:f.a,deleteHost:h.c},e)}))(Object(v.d)(j)))},pp8X:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var a="PREPARE_ROYALE",o="UPDATE_STANDINGS"},qcxl:function(e,t,n){var a=n("2zEv");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("UezQ")(a,o);a.locals&&(e.exports=a.locals)},qgLw:function(e,t,n){var a=n("rMSC");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("UezQ")(a,o);a.locals&&(e.exports=a.locals)},rMSC:function(e,t,n){(t=e.exports=n("Ai0b")(!1)).push([e.i,".styles__headerContainer___4DnYM-camelCase{width:calc(90% - 30px);padding:15px;margin:25px 5% 20px;min-width:500px;background-color:#fff;border-radius:7px;box-shadow:0 0 8px 3px rgba(0,0,0,.2);display:flex;flex-direction:row}.styles__headerImageContainer___284-_-camelCase{width:22.5%;margin:0;background-color:#333;border-radius:7px}.styles__headerImage___1VrZ--camelCase{margin:auto;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;border-radius:7px}.styles__headerFillerContainer___3TnVG-camelCase{width:22.5%;height:195px;margin:auto 0;background-color:#0bc2cf;border-radius:7px;display:flex;justify-content:center;align-items:center}.styles__headerFillerText___D52ny-camelCase{font-family:Titan One,sans-serif;font-size:45px;text-align:center;margin:auto;color:#fff;text-shadow:2px 2px 8px grey;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.styles__headerTextContainer___FSV4Q-camelCase{width:calc(77.5% - 150px);margin-left:20px;min-width:150px}.styles__headerTextContainer___FSV4Q-camelCase,.styles__headerTitle___2ocTf-camelCase{display:flex;flex-direction:column}.styles__headerTitle___2ocTf-camelCase{font-size:36px;line-height:38px;font-weight:700;justify-content:center}.styles__headerDesc___2sIW7-camelCase,.styles__headerTitle___2ocTf-camelCase{font-family:Nunito,sans-serif;color:#3a3a3a}.styles__headerDesc___2sIW7-camelCase{font-size:20px;margin-top:12px;margin-bottom:5px}.styles__headerBottomContainer___EZDg_-camelCase{display:flex;flex-direction:row;align-items:center;height:35px;margin-top:auto}.styles__headerAuthorIcon___3fpXX-camelCase{font-size:24px;color:#3a3a3a;line-height:35px;width:36px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.styles__headerAuthorText___fF0UW-camelCase{padding-left:3px;color:#0bc2cf}.styles__deleteButton___1qOKG-camelCase,.styles__headerAuthorText___fF0UW-camelCase{font-family:Nunito,sans-serif;font-size:20px;line-height:33px}.styles__deleteButton___1qOKG-camelCase{margin-left:15px;color:#ce1313;text-decoration:underline;cursor:pointer}.styles__headerBelowContainer___3YtCt-camelCase{width:calc(75% - 10px);min-height:50px;padding:0 5px;margin:-20px 12.5% 20px;min-width:500px;background-color:#fff;border-bottom-left-radius:7px;border-bottom-right-radius:7px;box-shadow:0 0 8px 3px rgba(0,0,0,.2);display:flex;flex-flow:row wrap;justify-content:center;z-index:-1}.styles__headerBelowSection___3Y2ai-camelCase{width:33%;min-width:250px}.styles__headerBelowCenterSection___8-ThC-camelCase,.styles__headerBelowSection___3Y2ai-camelCase{display:flex;flex-direction:row;align-items:center}.styles__headerBelowCenterSection___8-ThC-camelCase{width:34%;min-width:150px}.styles__headerClockIcon___hoHjC-camelCase{font-size:25px;color:#3a3a3a;line-height:35px;width:36px;margin-left:10px;margin-top:7px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.styles__headerTimeText___1uULO-camelCase{font-family:Nunito,sans-serif;font-size:20px;margin-top:10px;line-height:33px;padding-left:3px;color:#3a3a3a}.styles__headerButtonContainer___3Naex-camelCase{width:180px;min-width:125px;margin-left:2.5%;flex-direction:column}.styles__headerButtonContainer___3Naex-camelCase,.styles__hostButtonContainer___3Y_-F-camelCase{display:flex;align-items:center;justify-content:center}.styles__hostButtonContainer___3Y_-F-camelCase{width:100%;height:50px;margin:7px auto;flex-direction:row}.styles__noHostText___2WvG3-camelCase{font-family:Nunito,sans-serif;font-size:18px;color:#3a3a3a;text-align:center}.styles__hostButton___2vHCi-camelCase{width:80%;height:50px;background-color:#0bc2cf;border-radius:7px;box-shadow:0 0 8px 3px rgba(0,0,0,.2);cursor:pointer;display:flex;flex-direction:row;align-items:center;justify-content:center;outline:none;transition:all .2s cubic-bezier(.39,.5,.15,1.36)}.styles__hostButton___2vHCi-camelCase:focus,.styles__hostButton___2vHCi-camelCase:hover{transform:scale(1.04)}.styles__hostIcon___Mu8_A-camelCase{font-size:23px;width:36px;text-align:center}.styles__hostIcon___Mu8_A-camelCase,.styles__hostText___1qQum-camelCase{color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.styles__hostText___1qQum-camelCase{font-family:Nunito,sans-serif;font-size:26px}.styles__smallButtonsContainer___2P4E9-camelCase{width:100%;height:40%;margin-top:10px;display:flex;flex-direction:row;justify-content:space-around;align-items:center}.styles__headerStarIconNo___N3nzx-camelCase{font-size:30px;line-height:40px;width:40px;height:40px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;color:#3a3a3a}.styles__headerStarIconNo___N3nzx-camelCase:hover{color:#ffa203}.styles__headerStarIconYes___366az-camelCase{color:#ffa203}.styles__headerStarIconYes___366az-camelCase,.styles__reportIcon___2W90i-camelCase{font-size:30px;line-height:40px;width:40px;height:40px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none}.styles__reportIcon___2W90i-camelCase{color:#3a3a3a}.styles__reportIcon___2W90i-camelCase:hover{color:#ce1313}.styles__copyIcon___vcWgi-camelCase{font-size:30px;line-height:40px;width:40px;height:40px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;color:#3a3a3a}.styles__copyIcon___vcWgi-camelCase:hover{color:#0bc2cf}.styles__questionSection___1v1AY-camelCase{display:flex;flex-direction:column}.styles__questionContainer___1j1Rn-camelCase{width:80%;min-height:130px;padding:0;margin:25px 10% 20px;min-width:500px;background-color:#fff;border-radius:7px;box-shadow:0 0 8px 3px rgba(0,0,0,.2);display:flex;flex-direction:row;z-index:1}.styles__questionImageContainer___3v_u6-camelCase{background-color:#333;display:flex;flex-direction:row;justify-content:center;align-items:center;overflow:hidden;margin:auto 0;position:relative;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.styles__questionImage___2yYxk-camelCase,.styles__questionImageContainer___3v_u6-camelCase{width:170px;height:130px;border-top-left-radius:7px;border-bottom-left-radius:7px}.styles__questionImage___2yYxk-camelCase{margin:auto;-o-object-fit:cover;object-fit:cover}.styles__imageNumber___1iP3o-camelCase{width:170px;height:130px;font-family:Titan One,sans-serif;font-size:50px;text-align:center;line-height:130px;color:#fff;text-shadow:2px 2px 8px grey;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.styles__questionCenterContainer___1gZYw-camelCase{display:flex;flex-direction:column;margin:10px 10px 5px 15px;width:calc(100% - 298px);min-height:115px}.styles__questionText___2sjmo-camelCase{font-family:Nunito,sans-serif;font-size:22px;color:#3a3a3a;word-wrap:break-word;flex-grow:1}.styles__showAnswersContainer___3wC5I-camelCase{display:flex;flex-direction:row;line-height:20px;color:#3a3a3a;cursor:pointer;width:165px;outline:none}.styles__showAnswersContainer___3wC5I-camelCase:hover{color:#0bc2cf}.styles__showAnswersText___243uU-camelCase{font-family:Nunito,sans-serif;font-size:18px}.styles__showAnswersIcon___1shCe-camelCase,.styles__showAnswersText___243uU-camelCase{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.styles__showAnswersIcon___1shCe-camelCase{font-size:28px;padding-left:7px;margin-top:-3px}.styles__questionRightContainer___3TDmm-camelCase{height:100%;margin:auto 0}.styles__questionRightColumn___2cxfs-camelCase,.styles__questionRightContainer___3TDmm-camelCase{width:100px;display:flex;flex-direction:column}.styles__questionRightColumn___2cxfs-camelCase{height:63.5px;text-align:center;color:#3a3a3a}.styles__questionRandomRow___3HE_3-camelCase,.styles__questionRightColumn___2cxfs-camelCase{justify-content:center;align-items:center}.styles__questionRandomRow___3HE_3-camelCase{display:flex;flex-direction:row}.styles__tallVerticalDivider___2uh_8-camelCase{width:3px;height:130px;background-color:#e0e0e0;margin:auto 0}.styles__horizontalDivider___diYqs-camelCase{width:100%;height:3px;background-color:#e0e0e0}.styles__tooltip___pbcra-camelCase{font-family:Nunito,sans-serif;font-size:15px;padding:6px 13px}.styles__timeLimitText___aOaSs-camelCase{font-family:Nunito,sans-serif;font-size:20px;font-weight:700}.styles__randomIcon___3Ly96-camelCase,.styles__timeLimitText___aOaSs-camelCase{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.styles__randomIcon___3Ly96-camelCase{font-size:25px;margin:auto 7px}.styles__randomText___E4TZV-camelCase{font-size:10px;line-height:11px;width:75%;margin:3px auto 0}.styles__answerContainer___19cGt-camelCase{width:calc(75% - 10px);padding:0 5px;height:0;overflow:hidden;margin:-30px 12.5% 30px;min-width:400px;background-color:#fff;border-bottom-left-radius:7px;border-bottom-right-radius:7px;box-shadow:0 0 8px 3px rgba(0,0,0,.2);display:flex;flex-direction:row;z-index:-1}.styles__answerContainerOut___3gfSE-camelCase{height:auto;margin:-20px 12.5% 20px}.styles__answerText___6n9mH-camelCase{font-family:Nunito,sans-serif;font-size:18px;color:#fff;text-align:center}.styles__answer___2WW4F-camelCase{min-height:60px;padding:5px;margin:10px;border-radius:7px;flex-grow:1;flex-basis:25%;display:flex;justify-content:center;align-items:center;word-wrap:break-word;overflow-x:hidden}.styles__faded___H9N0x-camelCase{opacity:.5}.styles__bottomSpacer___THPAd-camelCase{height:30px}.styles__reportModal___13DyT-camelCase{display:block;position:fixed;z-index:15;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgba(0,0,0,.6)}.styles__reportContainer___-Sqw0-camelCase{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:500px;background-color:#fff;box-shadow:0 0 8px 3px rgba(0,0,0,.2);border-radius:7px;text-align:center}.styles__reportHeader___1YYSL-camelCase{margin:25px auto 15px}.styles__duplicateHeader___2zjpX-camelCase,.styles__reportHeader___1YYSL-camelCase{font-family:Nunito,sans-serif;font-size:32px;font-weight:700;color:#3a3a3a}.styles__duplicateHeader___2zjpX-camelCase{margin:25px auto}.styles__reportText___1StQi-camelCase{margin:10px 25px 15px}.styles__reportInput___3tGmR-camelCase,.styles__reportText___1StQi-camelCase{font-family:Nunito,sans-serif;font-size:18px;color:#3a3a3a}.styles__reportInput___3tGmR-camelCase{border:2px solid rgba(0,0,0,.17);border-radius:6px;margin:10px auto;padding:15px;width:400px;height:100px;text-align:left;outline:none;resize:none}.styles__reportInput___3tGmR-camelCase:focus{border-color:#0bc2cf}.styles__reportInputFilled___2Zeq1-camelCase{border-color:#3a3a3a}.styles__reportButtonContainer___h0Myx-camelCase{width:100%;margin-top:15px;margin-bottom:25px;display:flex;flex-direction:row;justify-content:center;align-items:center}.styles__reportYesButton___2wS4h-camelCase{border-color:#3a3a3a;border-style:solid;border-radius:6px;background-color:#fff;width:125px;height:45px;margin:auto;color:#3a3a3a;font-size:23px;text-align:center;line-height:45px;font-family:Nunito,sans-serif;outline:none;cursor:pointer;transition:all .2s cubic-bezier(.39,.5,.15,1.36)}.styles__reportYesButton___2wS4h-camelCase:focus,.styles__reportYesButton___2wS4h-camelCase:hover{border-color:#ce1313;color:#ce1313;font-weight:700}.styles__reportNoButton___15ILu-camelCase{border-color:#3a3a3a;border-style:solid;border-radius:6px;background-color:#fff;width:125px;height:45px;margin:auto;color:#3a3a3a;font-size:23px;text-align:center;line-height:45px;font-family:Nunito,sans-serif;outline:none;cursor:pointer;transition:all .2s cubic-bezier(.39,.5,.15,1.36)}.styles__reportNoButton___15ILu-camelCase:focus,.styles__reportNoButton___15ILu-camelCase:hover{border-color:#0bc2cf;color:#0bc2cf;font-weight:700}.styles__mainColumn___1O5Ai-camelCase{display:flex;flex-direction:column}@media only screen and (max-width:600px){.styles__headerContainer___4DnYM-camelCase{flex-direction:column;min-width:200px;height:auto}.styles__headerFillerContainer___3TnVG-camelCase,.styles__headerImageContainer___284-_-camelCase{width:100%}.styles__headerTextContainer___FSV4Q-camelCase{width:100%;margin:10px 0 0}.styles__headerTitle___2ocTf-camelCase{min-height:83px;height:auto}.styles__headerDesc___2sIW7-camelCase{min-height:50px;height:auto;font-size:20px;margin-top:0}.styles__headerBottomContainer___EZDg_-camelCase{margin:5px 0}.styles__headerButtonContainer___3Naex-camelCase{width:90%;margin:0 auto}.styles__hostButtonContainer___3Y_-F-camelCase{margin:10px auto 0}.styles__smallButtonsContainer___2P4E9-camelCase{width:90%;height:40px;margin:20px auto 0}.styles__headerBelowContainer___3YtCt-camelCase{width:calc(80% - 10px);margin:-20px auto 20px;min-width:100px}.styles__headerBelowCenterSection___8-ThC-camelCase,.styles__headerBelowSection___3Y2ai-camelCase{width:100%;min-width:100px}.styles__reportContainer___-Sqw0-camelCase{width:80%}.styles__reportText___1StQi-camelCase{font-size:14px;margin:5px 25px}.styles__reportInput___3tGmR-camelCase{width:calc(90% - 30px)}.styles__questionContainer___1j1Rn-camelCase{width:90%;height:auto;margin:25px auto 20px;min-width:200px;flex-direction:column}.styles__questionImage___2yYxk-camelCase,.styles__questionImageContainer___3v_u6-camelCase{width:100%;height:150px;border-bottom-left-radius:0;border-top-right-radius:7px}.styles__questionImage___2yYxk-camelCase{-o-object-fit:contain;object-fit:contain}.styles__imageNumber___1iP3o-camelCase{width:100%;height:150px;line-height:150px}.styles__questionCenterContainer___1gZYw-camelCase{margin:5px auto;width:90%;height:auto}.styles__questionText___2sjmo-camelCase{min-height:90px;height:auto;margin-bottom:10px}.styles__questionRightContainer___3TDmm-camelCase{width:100%;height:50px;flex-direction:row}.styles__questionRightColumn___2cxfs-camelCase{width:50%;height:50px}.styles__tallVerticalDivider___2uh_8-camelCase{height:3px;width:100%}.styles__horizontalDivider___diYqs-camelCase{width:3px;height:100%}.styles__answerContainer___19cGt-camelCase{width:calc(85% - 10px);margin:-30px 7.5% 30px;min-width:200px;flex-direction:column}.styles__answerContainerOut___3gfSE-camelCase{height:auto;padding-top:5px;margin:-20px 7.5% 20px}.styles__answer___2WW4F-camelCase{margin:4px}}.styles__bigScreen___33prt-camelCase{display:flex}.styles__smallScreen___Mw1xr-camelCase{display:none}@media only screen and (max-width:600px){.styles__bigScreen___33prt-camelCase{display:none}.styles__smallScreen___Mw1xr-camelCase{display:flex}}",""]),t.locals={headerContainer:"styles__headerContainer___4DnYM-camelCase",headerImageContainer:"styles__headerImageContainer___284-_-camelCase",headerImage:"styles__headerImage___1VrZ--camelCase",headerFillerContainer:"styles__headerFillerContainer___3TnVG-camelCase",headerFillerText:"styles__headerFillerText___D52ny-camelCase",headerTextContainer:"styles__headerTextContainer___FSV4Q-camelCase",headerTitle:"styles__headerTitle___2ocTf-camelCase",headerDesc:"styles__headerDesc___2sIW7-camelCase",headerBottomContainer:"styles__headerBottomContainer___EZDg_-camelCase",headerAuthorIcon:"styles__headerAuthorIcon___3fpXX-camelCase",headerAuthorText:"styles__headerAuthorText___fF0UW-camelCase",deleteButton:"styles__deleteButton___1qOKG-camelCase",headerBelowContainer:"styles__headerBelowContainer___3YtCt-camelCase",headerBelowSection:"styles__headerBelowSection___3Y2ai-camelCase",headerBelowCenterSection:"styles__headerBelowCenterSection___8-ThC-camelCase",headerClockIcon:"styles__headerClockIcon___hoHjC-camelCase",headerTimeText:"styles__headerTimeText___1uULO-camelCase",headerButtonContainer:"styles__headerButtonContainer___3Naex-camelCase",hostButtonContainer:"styles__hostButtonContainer___3Y_-F-camelCase",noHostText:"styles__noHostText___2WvG3-camelCase",hostButton:"styles__hostButton___2vHCi-camelCase",hostIcon:"styles__hostIcon___Mu8_A-camelCase",hostText:"styles__hostText___1qQum-camelCase",smallButtonsContainer:"styles__smallButtonsContainer___2P4E9-camelCase",headerStarIconNo:"styles__headerStarIconNo___N3nzx-camelCase",headerStarIconYes:"styles__headerStarIconYes___366az-camelCase",reportIcon:"styles__reportIcon___2W90i-camelCase",copyIcon:"styles__copyIcon___vcWgi-camelCase",questionSection:"styles__questionSection___1v1AY-camelCase",questionContainer:"styles__questionContainer___1j1Rn-camelCase",questionImageContainer:"styles__questionImageContainer___3v_u6-camelCase",questionImage:"styles__questionImage___2yYxk-camelCase",imageNumber:"styles__imageNumber___1iP3o-camelCase",questionCenterContainer:"styles__questionCenterContainer___1gZYw-camelCase",questionText:"styles__questionText___2sjmo-camelCase",showAnswersContainer:"styles__showAnswersContainer___3wC5I-camelCase",showAnswersText:"styles__showAnswersText___243uU-camelCase",showAnswersIcon:"styles__showAnswersIcon___1shCe-camelCase",questionRightContainer:"styles__questionRightContainer___3TDmm-camelCase",questionRightColumn:"styles__questionRightColumn___2cxfs-camelCase",questionRandomRow:"styles__questionRandomRow___3HE_3-camelCase",tallVerticalDivider:"styles__tallVerticalDivider___2uh_8-camelCase",horizontalDivider:"styles__horizontalDivider___diYqs-camelCase",tooltip:"styles__tooltip___pbcra-camelCase",timeLimitText:"styles__timeLimitText___aOaSs-camelCase",randomIcon:"styles__randomIcon___3Ly96-camelCase",randomText:"styles__randomText___E4TZV-camelCase",answerContainer:"styles__answerContainer___19cGt-camelCase",answerContainerOut:"styles__answerContainerOut___3gfSE-camelCase",answerText:"styles__answerText___6n9mH-camelCase",answer:"styles__answer___2WW4F-camelCase",faded:"styles__faded___H9N0x-camelCase",bottomSpacer:"styles__bottomSpacer___THPAd-camelCase",reportModal:"styles__reportModal___13DyT-camelCase",reportContainer:"styles__reportContainer___-Sqw0-camelCase",reportHeader:"styles__reportHeader___1YYSL-camelCase",duplicateHeader:"styles__duplicateHeader___2zjpX-camelCase",reportText:"styles__reportText___1StQi-camelCase",reportInput:"styles__reportInput___3tGmR-camelCase",reportInputFilled:"styles__reportInputFilled___2Zeq1-camelCase",reportButtonContainer:"styles__reportButtonContainer___h0Myx-camelCase",reportYesButton:"styles__reportYesButton___2wS4h-camelCase",reportNoButton:"styles__reportNoButton___15ILu-camelCase",mainColumn:"styles__mainColumn___1O5Ai-camelCase",bigScreen:"styles__bigScreen___33prt-camelCase",smallScreen:"styles__smallScreen___Mw1xr-camelCase"}},sJlf:function(e,t,n){(t=e.exports=n("Ai0b")(!1)).push([e.i,".styles__matchArray___2D_wv-camelCase{overflow:hidden;width:92vw;height:calc(75vh - 65px);margin:3vh auto 0;display:flex;flex-direction:column;align-content:flex-start;opacity:0;-webkit-animation:styles__fadeIn___lGV49-camelCase .3s linear .75s forwards;animation:styles__fadeIn___lGV49-camelCase .3s linear .75s forwards}@-webkit-keyframes styles__fadeIn___lGV49-camelCase{0%{opacity:0}to{opacity:1}}@keyframes styles__fadeIn___lGV49-camelCase{0%{opacity:0}to{opacity:1}}",""]),t.locals={matchArray:"styles__matchArray___2D_wv-camelCase",fadeIn:"styles__fadeIn___lGV49-camelCase"}},"w/bT":function(e,t,n){"use strict";var a=n("mXGw"),o=n.n(a),r=n("cnbf"),s=n("/m4v"),i=n("W0B4"),c=n.n(i),l=n("aEK/"),u=n("FbNb"),p=n("czhI"),m=n.n(p),f=n("5Ol3"),h=n("z6Is"),d=n("9xwJ"),y=n.n(d),_=n("Bnqp"),b=n("bIpl"),g=n("3FZc"),v=n("glgb"),w=n("MSsx"),x=n("atxT"),C=n("cOZ7"),E=n("3h1K"),k=n("BNYT"),O=n("oMeC"),S=n("uEAT");function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return q(this,n)}}function q(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=[4200,2850,7150,8150,8150,8150,2575],B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(s,e);var t,n,a,r=I(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=r.call(this,e)).state={stage:2,muted:!!e.host&&e.host.muted},t.ok=!0,t.changeMuted=t.changeMuted.bind(N(t)),t.audio=new Audio(O.a),t.audio.muted=t.state.muted,t}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this;this.props.host&&this.props.host.settings&&(this.audio.volume=.45,this.audio.play(),this.audio.addEventListener("ended",(function(){e.audio.currentTime=0,e.audio.play()}),!1),function t(){e.timeout=setTimeout((function(){e.setState({stage:e.state.stage+1},(function(){e.state.stage>=7?e.skip():t()}))}),P[e.state.stage])}())}},{key:"componentWillUnmount",value:function(){var e=this;clearTimeout(this.timeout),!this.ok&&this.props.host&&this.props.host.id&&(this.props.firebase.removeHost(this.props.host.id),this.props.deleteHost()),this.audio.currentTime=0,this.audio.pause(),this.audio.removeEventListener("ended",(function(){e.audio.currentTime=0,e.audio.play()}),!1)}},{key:"skip",value:function(){var e=this,t=Object(v.b)(this.props.host.players,"Teams"===this.props.host.settings.mode,this.props.host.usedQuestions,this.props.host.questionsPlayed,this.props.host.questions,this.props.host.dead);this.props.prepareRoyale(1,t.usedQuestions,t.questionsPlayed,"q-".concat(t.question.stdNumber,"-").concat(t.answerString),t.question,t.matches),this.props.firebase.setVal({id:this.props.host.id,path:"c",val:t.dbPlayers},(function(){m.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,e.props.firebase.setStage({id:e.props.host.id,stage:"prv"},(function(){e.ok=!0,e.props.history.push("/host/battle-royale/match/preview")}))}))}},{key:"changeMuted",value:function(){var e=this;this.setState({muted:!this.state.muted},(function(){e.audio.muted=e.state.muted,e.props.setMuted(e.state.muted)}))}},{key:"render",value:function(){var e=this;return this.props.host&&this.props.host.settings?o.a.createElement("div",{className:y.a.hostBody},o.a.createElement(h.a,{title:"Host Blooket",desc:"Host a game of Blooket with any question set. Then, have players join and answer questions to compete in an action-packed activity."}),o.a.createElement(f.a,{left:"",center:"Instructions",muted:this.state.muted,changeMuted:this.changeMuted}),2===this.state.stage?o.a.createElement(w.a,{team:"Teams"===this.props.host.settings.mode}):null,3===this.state.stage?o.a.createElement(x.a,{mode:"Teams"===this.props.host.settings.mode?"Royale Teams":"Royale"}):null,4===this.state.stage?o.a.createElement(C.a,{team:"Teams"===this.props.host.settings.mode}):null,5===this.state.stage?o.a.createElement(E.a,{team:"Teams"===this.props.host.settings.mode}):null,6===this.state.stage?o.a.createElement(k.a,{noExpand:!0}):null,o.a.createElement("div",{className:y.a.skipButton,onClick:function(){return e.skip()},role:"button",tabIndex:"0"},"Skip")):o.a.createElement(l.a,{to:"/dashboard"})}}])&&R(t.prototype,n),a&&R(t,a),s}(o.a.Component);B.propTypes={host:c.a.object,id:c.a.string,firebase:c.a.object,history:c.a.object,deleteHost:c.a.func.isRequired,setMuted:c.a.func.isRequired,prepareRoyale:c.a.func.isRequired};t.a=Object(u.a)(Object(s.b)((function(e){return{host:e.hosts.host,id:e.hosts.id}}),(function(e){return Object(r.b)({deleteHost:_.c,setMuted:b.a,prepareRoyale:g.a},e)}))(Object(S.d)(B)))},xVia:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="SET_ROYALE_RESULTS"},xebJ:function(e,t,n){"use strict";var a=n("mXGw"),o=n.n(a),r=n("cnbf"),s=n("/m4v"),i=n("W0B4"),c=n.n(i),l=n("aEK/"),u=n("FbNb"),p=n("czhI"),m=n.n(p),f=n("Bnqp"),h=n("9xwJ"),d=n.n(h),y=n("RFGx"),_=n("z6Is"),b=n("uEAT"),g=n("rbBe");function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,o=!1,r=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(o)throw r}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function C(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(s,e);var t,n,a,r=k(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=r.call(this,e)).state={ready:!1,historyId:"",standings:[],isTeam:!1,muted:!!e.host&&e.host.muted},t}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this;if(this.props.host&&this.props.host.standings&&this.props.host.standings[0]){var t=JSON.parse(JSON.stringify(this.props.host));this.setState({standings:t.standings,isTeam:"Teams"===t.settings.mode},(function(){for(var n=t.questionsPlayed,a=t.questions,o=a.map((function(e){return e.number})),r=[],s=0;s<n.length;s++)r[s]=a[o.indexOf(n[s])];e.startTimeout=setTimeout((function(){var n={};e.props.firebase.getDatabaseVal(t.id,"c",(function(a){var o=a||{};Object.entries(o).forEach((function(e){var t=w(e,2),a=t[0],o=t[1];if(!Object.keys(g.a).includes(a)){var r={};if(o.i)if(Array.isArray(o.i))for(var s=0;s<o.i.length;s++){var i=o.i[s];i&&(r[s]=i)}else r=o.i;else r={};var c={};if(o.c)if(Array.isArray(o.c))for(var l=0;l<o.c.length;l++){var u=o.c[l];u&&(c[l]=u)}else c=o.c;else c={};n[a]={corrects:c,incorrects:r}}})),e.props.host&&e.props.host.id&&(e.props.firebase.removeHost(e.props.host.id),e.props.deleteHost()),e.waitTimeout=setTimeout((function(){e.state.standings.length>0&&(m.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,e.state.isTeam?m.a.post("/api/history",{standings:e.state.standings.map((function(e){return{blook:e.blook,name:e.name,place:e.place,wins:e.wins,players:Object.entries(e.players).map((function(e){var t=w(e,2),a=t[0];return{name:a,blook:t[1].blook,corrects:n[a]?n[a].corrects:{},incorrects:n[a]?n[a].incorrects:{}}}))}})),settings:t.settings,set:t.hostName,setId:t.setId,name:t.hoster}).then((function(t){e.setState({historyId:t.data._id,ready:!0})})).catch((function(e){console.error(e)})):m.a.post("/api/history",{standings:e.state.standings.map((function(e){return{blook:e.blook,name:e.name,place:e.place,wins:e.wins,corrects:n[e.name]?n[e.name].corrects:{},incorrects:n[e.name]?n[e.name].incorrects:{}}})),settings:t.settings,set:t.hostName,setId:t.setId,name:t.hoster}).then((function(t){e.setState({historyId:t.data._id,ready:!0})})).catch((function(e){console.error(e)})))}),2e3)}))}),3500)}))}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.startTimeout),clearTimeout(this.waitTimeout),this.props.host&&this.props.host.id&&(this.props.firebase.removeHost(this.props.host.id),this.props.deleteHost())}},{key:"render",value:function(){return this.props.host&&this.props.host.standings&&this.props.host.standings[0]||this.state.standings&&this.state.standings[0]?o.a.createElement("div",{className:d.a.hostBody,style:{overflowY:this.state.ready?"auto":"hidden"}},o.a.createElement(_.a,{title:"Host Blooket",desc:"Host a game of Blooket with any question set. Then, have players join and answer questions to compete in an action-packed activity."}),this.state.standings.length>0?o.a.createElement(y.a,{standings:this.state.standings,stats:this.state.standings.map((function(e){return"".concat(e.wins," ").concat(1===e.wins?"Win":"Wins")})),gameId:this.props.gameId,historyId:this.state.historyId,team:this.state.isTeam,muted:this.state.muted}):null):o.a.createElement(l.a,{to:"/dashboard"})}}])&&C(t.prototype,n),a&&C(t,a),s}(o.a.Component);j.propTypes={gameId:c.a.string,host:c.a.object,firebase:c.a.object,deleteHost:c.a.func.isRequired};t.a=Object(u.a)(Object(s.b)((function(e){return{host:e.hosts.host,gameId:e.hosts.id}}),(function(e){return Object(r.b)({deleteHost:f.c},e)}))(Object(b.d)(j)))}}]);